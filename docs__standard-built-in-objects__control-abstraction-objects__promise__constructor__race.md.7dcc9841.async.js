(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[238],{lZ4I:function(e,a,r){"use strict";r.r(a);var t=r("55Ip"),n=r("q1tI"),l=r.n(n),c=(r("B2uJ"),r("+su7"),r("qOys")),o=r.n(c);r("5Yjd");a["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"promiserace"},l.a.createElement("a",{"aria-hidden":"true",href:"#promiserace"},l.a.createElement("span",{className:"icon icon-link"})),"Promise.race"),l.a.createElement("p",null,l.a.createElement("code",null,"Promise.race")," \u63a5\u6536\u4e00\u4e2a\u4ee5 Promise \u5b9e\u4f8b\u4e3a\u6210\u5458\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5f53\u67d0\u4e2a\u6210\u5458 Promise \u72b6\u6001\u53d8\u66f4\u540e\uff08\u65e0\u8bba\u662f Fulfilled \u72b6\u6001\u8fd8\u662f Rejected \u72b6\u6001\uff09\uff0c\u7acb\u5373\u8c03\u7528\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002"),l.a.createElement("h2",{id:"\u8bed\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u8bed\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u8bed\u6cd5"),l.a.createElement(o.a,{code:"Promise.race(iterator)\n\nPromise.race([promise1, promise2, ..., promiseN])\n",lang:"js"}),l.a.createElement("p",null,"\u4e0e ",l.a.createElement("a",{href:"all.md"},"Promise.all")," \u76f8\u4f3c\uff0c",l.a.createElement("code",null,"Promise.race")," \u7684 ",l.a.createElement("code",null,"iterator")," \u53c2\u6570\u5fc5\u987b\u662f ",l.a.createElement(t["a"],{to:"../../iterator-objects/iterator"},"Iterator"),"\u3002"),l.a.createElement("p",null,"\u53ea\u8981\u53c2\u6570 ",l.a.createElement("code",null,"iterator")," \u7684\u5176\u4e2d\u67d0\u4e2a Promise \u5b9e\u4f8b\u6210\u5458\u7684\u72b6\u6001\u53d8\u66f4\uff0c\u90a3\u4e48 ",l.a.createElement("code",null,"Promise.race")," \u4f1a\u7acb\u5373\u8fd4\u56de\u4e00\u4e2a\u65b0\u521b\u5efa\u7684 Promise \u5b9e\u4f8b\uff0c\u5e76\u5c06\u8fd4\u56de\u503c\u4f20\u9012\u7ed9\u56de\u8c03\u51fd\u6570\u3002"),l.a.createElement("p",null,l.a.createElement("code",null,"Promise.race")," \u65b9\u6cd5\u7684\u53c2\u6570\u4e0e ",l.a.createElement("code",null,"Promise.all")," \u65b9\u6cd5\u4e00\u6837\uff0c\u5982\u679c\u4e0d\u662f Promise \u5b9e\u4f8b\uff0c\u5c31\u4f1a\u5148\u8c03\u7528 ",l.a.createElement("a",{href:"resolve.md"},"Promise.resolve")," \u65b9\u6cd5\uff0c\u5c06\u53c2\u6570\u8f6c\u4e3a Promise \u5b9e\u4f8b\uff0c\u518d\u8fdb\u4e00\u6b65\u5904\u7406\u3002"),l.a.createElement("h2",{id:"\u793a\u4f8b"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u793a\u4f8b"},l.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),l.a.createElement("p",null,"\u4e0b\u9762\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c 5 \u79d2\u4e4b\u5185 ",l.a.createElement("code",null,"fetch")," \u65b9\u6cd5\u65e0\u6cd5\u8fd4\u56de\u7ed3\u679c\uff0c\u53d8\u91cf ",l.a.createElement("code",null,"p")," \u7684\u72b6\u6001\u5c31\u4f1a\u53d8\u4e3a Rejected\uff0c\u4ece\u800c\u89e6\u53d1 ",l.a.createElement("code",null,".catch")," \u65b9\u6cd5\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002"),l.a.createElement(o.a,{code:"const p = Promise.race([\n  fetch('/resource-that-may-take-a-while'),\n  new Promise(function(resolve, reject) {\n    setTimeout(() => reject(new Error('request timeout')), 5000);\n  }),\n]);\n\np.then(console.log).catch(console.error);\n",lang:"js"})))}}}]);