(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[223],{zM1T:function(e,a,n){"use strict";n.r(a);var t=n("q1tI"),l=n.n(t),r=(n("B2uJ"),n("+su7"),n("qOys")),m=n.n(r);n("5Yjd");a["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"\u52a8\u753b\u6e32\u67d3"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u52a8\u753b\u6e32\u67d3"},l.a.createElement("span",{className:"icon icon-link"})),"\u52a8\u753b\u6e32\u67d3"),l.a.createElement("p",null,l.a.createElement("code",null,"window.requestAnimationFrame()")," \u65b9\u6cd5\u544a\u8bc9\u6d4f\u89c8\u5668\u60a8\u5e0c\u671b\u6267\u884c\u52a8\u753b\u5e76\u8bf7\u6c42\u6d4f\u89c8\u5668\u5728\u4e0b\u4e00\u6b21\u91cd\u7ed8\u4e4b\u524d\u8c03\u7528\u6307\u5b9a\u7684\u51fd\u6570\u6765\u66f4\u65b0\u52a8\u753b\u3002\u8be5\u65b9\u6cd5\u4f7f\u7528\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u4f1a\u5728\u6d4f\u89c8\u5668\u91cd\u7ed8\u4e4b\u524d\u8c03\u7528\u3002"),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u26a0\ufe0f \u6ce8\u610f\uff1a\u82e5\u60a8\u60f3\u8981\u5728\u4e0b\u4e00\u6b21\u91cd\u7ed8\u65f6\u4ea7\u751f\u53e6\u4e00\u4e2a\u52a8\u753b\u753b\u9762\uff0c\u60a8\u7684\u56de\u8c03\u4f8b\u7a0b\u5fc5\u987b\u8c03\u7528 ",l.a.createElement("code",null,"requestAnimationFrame()"),"\u3002")),l.a.createElement("h3",{id:"\u4f20\u7edf\u52a8\u753b\u6e32\u67d3\u7684\u5f0a\u7aef"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4f20\u7edf\u52a8\u753b\u6e32\u67d3\u7684\u5f0a\u7aef"},l.a.createElement("span",{className:"icon icon-link"})),"\u4f20\u7edf\u52a8\u753b\u6e32\u67d3\u7684\u5f0a\u7aef"),l.a.createElement("p",null,"\u4f20\u7edf\u7684\u52a8\u753b\u6e32\u67d3\u662f\u901a\u8fc7 setTimeout \u548c setInterval \u8fdb\u884c\u5b9e\u73b0\uff0c\u4f46\u662f\u8fd9\u4e24\u79cd\u5b9a\u65f6\u5668\u4f1a\u6709\u4e24\u4e2a\u5f0a\u7aef\uff1a"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u52a8\u753b\u7684\u65f6\u95f4\u95f4\u9694\u4e0d\u597d\u786e\u5b9a\uff0c\u8bbe\u7f6e\u65f6\u95f4\u8fc7\u957f\u4f1a\u4f7f\u5f97\u52a8\u753b\u4e0d\u591f\u5e73\u6ed1\u6d41\u7545\uff0c\u8bbe\u7f6e\u8fc7\u77ed\u4f1a\u4ee4\u6d4f\u89c8\u5668\u7684\u91cd\u7ed8\u9891\u7387\u5bb9\u6613\u8fbe\u5230\u74f6\u9888\uff08\u63a8\u8350\u6700\u4f73\u5faa\u73af\u95f4\u9694\u662f17ms\uff0c\u56e0\u4e3a\u5927\u591a\u6570\u7535\u8111\u7684\u663e\u793a\u5668\u5237\u65b0\u9891\u7387\u662f60Hz\uff0c1000ms/60\uff09\u3002"),l.a.createElement("li",null,"\u5b9a\u65f6\u5668\u7684\u7b2c\u4e8c\u4e2a\u65f6\u95f4\u53c2\u6570\u53ea\u662f\u6307\u5b9a\u4e86\u591a\u4e45\u540e\u5c06\u52a8\u753b\u4efb\u52a1\u6dfb\u52a0\u5230\u6d4f\u89c8\u5668\u7684 UI \u7ebf\u7a0b\u961f\u5217\u4e2d\uff0c\u5982\u679c UI \u7ebf\u7a0b\u5904\u4e8e\u5fd9\u788c\u72b6\u6001\uff0c\u90a3\u4e48\u52a8\u753b\u4e0d\u4f1a\u7acb\u5373\u6267\u884c\u3002")),l.a.createElement("h3",{id:"\u8bed\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u8bed\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u8bed\u6cd5"),l.a.createElement("h4",{id:"requestanimationframe"},l.a.createElement("a",{"aria-hidden":"true",href:"#requestanimationframe"},l.a.createElement("span",{className:"icon icon-link"})),"requestAnimationFrame"),l.a.createElement(m.a,{code:"window.requestAnimationFrame(callback)\n",lang:"js"}),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"callback"),l.a.createElement("td",null,"\u4e0b\u6b21\u91cd\u65b0\u7ed8\u5236\u52a8\u753b\u65f6\u8c03\u7528\u7684\u56de\u8c03\u51fd\u6570\u3002\u8be5\u56de\u8c03\u51fd\u6570\u53ea\u6709\u4e00\u4e2a\u53c2\u6570 ",l.a.createElement("code",null,"DOMHighResTimeStamp"),"\uff0c\u6307\u793a ",l.a.createElement("code",null,"requestAnimationFrame()")," \u5f00\u59cb\u51fa\u53d1\u56de\u8c03\u51fd\u6570\u7684\u5f53\u524d\u65f6\u95f4\u3002"),l.a.createElement("td",null,"function")))),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u8fd4\u56de\u503c"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"\u8bf7\u6c42\u52a8\u753b\u6e32\u67d3\u7684\u6807\u8bc6 ID\u3002\u662f\u4e2a\u975e\u96f6\u503c\uff0c\u6ca1\u6709\u5176\u4ed6\u610f\u4e49\u3002\u53ef\u7528\u4f5c ",l.a.createElement("code",null,"window.cancelAnimationFrame()")," \u4ee5\u53d6\u6d88\u56de\u8c03\u51fd\u6570\u3002"),l.a.createElement("td",null,"number \u6574\u6570")))),l.a.createElement("h4",{id:"cancelanimationframe"},l.a.createElement("a",{"aria-hidden":"true",href:"#cancelanimationframe"},l.a.createElement("span",{className:"icon icon-link"})),"cancelAnimationFrame"),l.a.createElement(m.a,{code:"window.cancelAnimationFrame(requestID)\n",lang:"js"}),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"requestId"),l.a.createElement("td",null,"\u6307\u5b9a\u52a8\u753b\u6e32\u67d3\u7684\u6807\u8bc6\u7b26"),l.a.createElement("td",null,"number")))),l.a.createElement("h3",{id:"\u4f18\u70b9"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4f18\u70b9"},l.a.createElement("span",{className:"icon icon-link"})),"\u4f18\u70b9"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("code",null,"requestAnimationFrame")," \u4f1a\u628a\u6bcf\u4e00\u5e27\u4e2d\u7684\u6240\u6709 DOM \u64cd\u4f5c\u96c6\u4e2d\u8d77\u6765\uff0c\u5728",l.a.createElement("strong",null,"\u4e00\u6b21\u91cd\u7ed8\u6216\u56de\u6d41"),"\u4e2d\u5c31\u5b8c\u6210\uff0c\u5e76\u4e14\u91cd\u7ed8\u6216\u56de\u6d41\u7684\u65f6\u95f4\u95f4\u9694\u7d27\u7d27\u8ddf\u968f\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u9891\u7387"),l.a.createElement("li",null,"\u5728\u9690\u85cf\u6216\u4e0d\u53ef\u89c1\u7684\u5143\u7d20\u4e2d\uff0c\u6216\u8005\u6d4f\u89c8\u5668\u6807\u7b7e\u9875\u4e0d\u53ef\u89c1\u65f6\uff0c",l.a.createElement("code",null,"requestAnimationFrame")," \u5c06\u4e0d\u4f1a\u8fdb\u884c\u91cd\u7ed8\u6216\u56de\u6d41\uff0c\u8fd9\u5f53\u7136\u5c31\u610f\u5473\u7740\u66f4\u5c11\u7684 CPU\u3001GPU \u548c\u5185\u5b58\u4f7f\u7528\u91cf"),l.a.createElement("li",null,l.a.createElement("code",null,"requestAnimationFrame")," \u662f\u7531\u6d4f\u89c8\u5668\u4e13\u95e8\u4e3a\u5f53\u5e74\u89c4\u5212\u63d0\u4f9b\u7684 API\uff0c\u5728\u8fd0\u884c\u65f6\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u4f18\u5316\u65b9\u6cd5\u7684\u8c03\u7528\uff0c\u5e76\u4e14\u5982\u679c\u9875\u9762\u4e0d\u662f\u6fc0\u6d3b\u72b6\u6001\u4e0b\u7684\u8bdd\uff0c\u52a8\u753b\u4f1a\u81ea\u52a8\u6682\u505c\uff0c\u6709\u6548\u8282\u7701\u4e86 CPU \u5f00\u9500")),l.a.createElement("h3",{id:"\u517c\u5bb9\u6027"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u517c\u5bb9\u6027"},l.a.createElement("span",{className:"icon icon-link"})),"\u517c\u5bb9\u6027"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"IE"),l.a.createElement("th",null,"Edge"),l.a.createElement("th",null,"Firefox"),l.a.createElement("th",null,"Chrome"),l.a.createElement("th",null,"Safari"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"11"),l.a.createElement("td",null,"17"),l.a.createElement("td",null,"60"),l.a.createElement("td",null,"66"),l.a.createElement("td",null,"11.1")))),l.a.createElement("p",null,"Firefox\u3001Chrome\u3001IE10+ \u5bf9 ",l.a.createElement("code",null,"requestAnimationFrame")," \u652f\u6301\u5f88\u597d\uff0c\u4f46\u4e0d\u517c\u5bb9 IE9- \u6d4f\u89c8\u5668\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u7528\u5b9a\u65f6\u5668\u5b8c\u6210\u517c\u5bb9\u6027\u6539\u9020\u3002"),l.a.createElement(m.a,{code:"(function () {\n    var lastTime = 0;\n    var vendors = ['webkit', 'moz'];\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame =\n            window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function (callback) {\n            /*\u8c03\u6574\u65f6\u95f4\uff0c\u8ba9\u4e00\u6b21\u52a8\u753b\u7b49\u5f85\u548c\u6267\u884c\u65f6\u95f4\u5728\u6700\u4f73\u5faa\u73af\u65f6\u95f4\u95f4\u9694\u5185\u5b8c\u6210*/\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 17 - (currTime - lastTime));\n            var id = window.setTimeout(function () {\n                    callback(currTime + timeToCall);\n                },\n                timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function (id) {\n            clearTimeout(id);\n        };\n}());\n\n",lang:"js"}),l.a.createElement("hr",null),l.a.createElement("p",null,l.a.createElement("strong",null,"\u53c2\u8003\u8d44\u6599\uff1a")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame",target:"_blank",rel:"noopener noreferrer"},"MDN\uff1awindow.requestAnimationFrame",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://juejin.im/entry/5ae844ec518825673a205855",target:"_blank",rel:"noopener noreferrer"},"requestAnimationFrame \u7406\u89e3\u4e0e\u5b9e\u8df5",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),l.a.createElement("li",null,l.a.createElement("a",{href:"http://web.jobbole.com/91578/",target:"_blank",rel:"noopener noreferrer"},"\u6df1\u5165\u7406\u89e3 requestAnimationFrame",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),l.a.createElement("li",null,l.a.createElement("a",{href:"http://web.jobbole.com/90625/",target:"_blank",rel:"noopener noreferrer"},"\u6d45\u6790 requestAnimationFrame",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))))))}}}]);