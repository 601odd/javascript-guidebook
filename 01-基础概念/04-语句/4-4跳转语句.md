# 跳转语句

　　**跳转语句(jump statement)**可以让解释器跳转到程序的其他部分继续执行，包括break、continue和return语句

## label语句

　　介绍跳转语句不得不提到标签(label)语句，通过给语句定义标签，就可以在程序的任何地方通过标签名引用这条语句

　　标签语句通常与break语句和continue语句配合使用，跳出特定的循环

```javascript
identifier: statement
```

　　[注意]用做标签的identifier必须是一个合法的Javascript标识符，而不能是一个保留字

```javascript
mainloop: while(token != null){
    //Todo
    continue mainloop;
}
```

　　标签的命名空间和变量或函数的命名空间是不同的，因此可以使用同一个标识符作为语句标签和作为变量名或函数名

　　语句标签只有在它所起作用的语句(当然也可以在它的子句中)内是有定义的。一个语句标签不能和它内部的语句标签重名，但在两个代码段不相互嵌套的情况下，是可以出现同名的语句标签的。带有标签的语句还可以带有标签，也就是说，任何语句可以有很多个标签

## break语句

　　单独使用break语句的作用是立即退出最内层的循环或switch语句

```javascript
break;
for(var i = 0; i < a.length; i++){
    if(a[i] == target) break;
}
```

　　break语句只有出现在循环语句或switch语句中才合法，出现在其他语句中会报错

```javascript
//报错
if(true){
    break;
}
//报错
function test(){
    var i = 0;
    break;
}
test();
```

　　当希望通过break来跳出非就近的循环体或switch语句时，就会用到带标签的break语句

```javascript
break labelname;
```

　　当break和标签一块使用时，程序将跳转到这个标签所标识的语句块的结束，或者直接终止这个闭合语句块的执行。当没有任何闭合语句块指定了break所用的标签，这时会产生一个语法错误

```javascript
top:
  for (var i = 0; i < 3; i++){
    for (var j = 0; j < 3; j++){
      if (i === 1 && j === 1) break top;
      console.log( i, j);
    }
  }
```

　　[注意]不管break语句带不带标签，它的控制权都无法越过函数的边界。比如，对于一条带标签的函数定义语句来说，不能从函数内部通过这个标签来跳转到函数外部

## continue语句

　　continue语句和break语句非常类似，但它不是退出循环，而是转而执行下一次循环

```javascript
continue;
continue labelname;
```

　　不管continue语句带不带标签，它只能在循环体内使用。在其他地方使用将会报语法错误

　　当执行到continue语句时，当前的循环逻辑就终止了，随即执行下一次循环。但在不同类型的循环中，continue行为也有所不同：

　　【1】while循环中，循环开始处指定的exression会重复检测，如果检测结果为true，则循环体会从头开始执行

　　【2】do while循环中，程序执行直接跳到循环结尾处，这时会重新判断循环条件，之后才会继续下一次循环

　　【3】for循环中，首先计算自增表达式，然后再次检测test表达式，用以判断是否执行循环体

　　【4】在for/in循环中，循环开始遍历下一个属性名，这个属性名赋给了指定的变量

　　[注意]continue语句在while和for循环中的区别：while循环直接进入下一轮的循环条件判断，但for循环首先计算其increment表达式，然后判断循环条件

```javascript
//1 3
for(i = 0; i < 5; i++){
    if(i % 2 === 0)continue;
    console.log(i);
}

//1 3 5
var i = 0;
while(i<5){
    i++;
    if(i % 2 === 0)continue;
    console.log(i);
}
```

　　由于continue在这两种循环中的行为表现不同，因此使用while循环不可能完美地模拟等价的for循环

　　和break语句类似，带标签的continue语句可以用在嵌套的循环中，用以跳出多层嵌套的循环体逻辑

```javascript
top:
  for (var i = 0; i < 3; i++){
    for (var j = 0; j < 3; j++){
      if (i === 1 && j === 1) continue top;
      console.log('i=' + i + ', j=' + j);
    }
  }
```

## return语句

　　函数调用是一种表达式，而所有表达式都有值。函数中的return语句就是指定函数调用后的返回值

```javascript
return expression;
```

　　return语句只能出现在函数体内，如果不是会报语法错误。当执行到return语句时，函数终止执行，并返回expression的值给调用程序

```
function square(x)
{
    return x*x
};
square(2);
```

　　如果没有return语句，则函数调用仅仅依次执行函数体内的每一条语句直到函数结束，最后返回调用程序。这种情况下，调用表达式的结果是undefined。return语句经常作为函数内的最后一条语句出现，但并不是说一定要放在函数最后，即使在执行return语句的时候还有很多后续代码没有执行到，这时函数也还是会返回调用程序

　　return语句可以单独使用而不必带有expression，这样的话也会向调用程序返回undefined

```javascript
function display_object(o){
    if(!o) return;
}
```

　　在Javascript词法结构中，已经提到过分号的用法。所有的跳转语句包括break、continue、return等语句，都不可以在关键字和表达式之间换行，因为Javascript会在换行处填补分号

```javascript
//以及return语句举例，break、continue语句也类似
return
true;
　　javascript将其解析为:

return;true;
```

　　而代码的本意是:

```javascript
return true;
```