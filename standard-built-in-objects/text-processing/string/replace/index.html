<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>String.prototype.replace</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/javascript-guidebook//basic-concept">基本语法</a><a aria-current="page" class="active" href="/javascript-guidebook//standard-built-in-objects">内置对象</a><a href="/javascript-guidebook//core-modules">核心模块</a><a href="/javascript-guidebook//object-oriented-programming">OOP</a><a href="/javascript-guidebook//browser-object-model">BOM</a><a href="/javascript-guidebook//document-object-model">DOM</a><a href="/javascript-guidebook//computer-networks">计算机网络</a><a href="/javascript-guidebook//design-patterns">设计模式</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a href="/javascript-guidebook//document-object-model">DOM</a></li><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a href="/javascript-guidebook//design-patterns">设计模式</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/javascript-guidebook//standard-built-in-objects">标准内置对象</a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/value-properties">全局对象 - 值属性</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/value-properties/infinity"><span>Infinity</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/value-properties/na-n"><span>NaN</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/value-properties/undefined"><span>undefined</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties">全局对象 - 函数属性</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/eval"><span>eval</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/is-finite"><span>isFinite</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/is-na-n"><span>isNaN</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/parse-float"><span>parseFloat</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/parse-int"><span>parseInt</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/decode-uri"><span>decodeURI</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/decode-uricomponent"><span>decodeURIComponent</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/encode-uri"><span>encodeURI</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/the-global-object/function-properties/encode-uricomponent"><span>encodeURIComponent</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object">Object</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/object"><span>Object</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/assign"><span>Object.assign</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/create"><span>Object.create</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/define-properties"><span>Object.defineProperties</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/define-property"><span>Object.defineProperty</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/entries"><span>Object.entries</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/freeze"><span>Object.freeze</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-own-property-descriptor"><span>Object.getOwnPropertyDescriptor</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-own-property-descriptors"><span>Object.getOwnPropertyDescriptors</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-own-property-names"><span>Object.getOwnPropertyNames</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-own-property-symbols"><span>Object.getOwnPropertySymbols</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/get-prototype-of"><span>Object.getPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is"><span>Object.is</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is-extensible"><span>Object.isExtensible</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is-frozen"><span>Object.isFrozen</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is-sealed"><span>Object.isSealed</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/keys"><span>Object.keys</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/prevent-extensions"><span>Object.preventExtensions</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/seal"><span>Object.seal</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/set-prototype-of"><span>Object.seal</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/values"><span>Object.seal</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/has-own-property"><span>Object.prototype.hasOwnProperty</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/is-prototype-of"><span>Object.prototype.isPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/property-is-enumerable"><span>Object.prototype.isPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object/to-string"><span>Object.prototype.isPrototypeOf</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function">Function</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function/function"><span>Function</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function/apply"><span>Function.prototype.apply</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function/call"><span>Function.prototype.call</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/function/bind"><span>Function.prototype.bind</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol">Symbol</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/symbol"><span>Symbol</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/has-instance"><span>Symbol.hasInstance</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/is-concat-spreadable"><span>Symbol.isConcatSpreadable</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/iterator"><span>Symbol.iterator</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/match"><span>Symbol.match</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/replace"><span>Symbol.replace</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/search"><span>Symbol.search</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/species"><span>Symbol.species</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/split"><span>Symbol.split</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/to-primitive"><span>Symbol.toPrimitive</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/to-string-tag"><span>Symbol.toStringTag</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/symbol/unscopables"><span>Symbol.unscopables</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects">其他基础对象</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/boolean"><span>Boolean</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/error"><span>Error</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/numbers-and-dates/">数字和日期</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/numbers-and-dates/date"><span>Date</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/numbers-and-dates/math"><span>Math</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/numbers-and-dates/number"><span>Number</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//standard-built-in-objects/text-processing/string/">String</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/string"><span>String</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/char-at"><span>String.prototype.charAt</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/char-code-at"><span>String.prototype.charCodeAt</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/code-point-at"><span>String.prototype.codePointAt</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/concat"><span>String.prototype.concat</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/ends-with"><span>String.prototype.endsWith</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/includes"><span>String.prototype.includes</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/index-of"><span>String.prototype.indexOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/last-index-of"><span>String.prototype.lastIndexOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/locale-compare"><span>String.prototype.localeCompare</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/match"><span>String.prototype.match</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/match-all"><span>String.prototype.matchAll</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/normalize"><span>String.prototype.normalize</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/pad-end"><span>String.prototype.padEnd</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/pad-start"><span>String.prototype.padStart</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/repeat"><span>String.prototype.repeat</span></a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace"><span>String.prototype.replace</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/search"><span>String.prototype.search</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/slice"><span>String.prototype.slice</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/split"><span>String.prototype.split</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/starts-with"><span>String.prototype.startsWith</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/substr"><span>String.prototype.substr</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/substring"><span>String.prototype.substring</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/to-lower-case"><span>String.prototype.toLowerCase</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/to-upper-case"><span>String.prototype.toUpperCase</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/trim"><span>String.prototype.trim</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/trim-end"><span>String.prototype.trimEnd</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/trim-start"><span>String.prototype.trimStart</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/">RegExp</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp"><span>RegExp</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/regexp-rule"><span>RegExp 语法</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/exec"><span>RegExp.prototype.exec</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/text-processing/regexp/test"><span>RegExp.prototype.test</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/">Array</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/array"><span>Array</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/array-detection"><span>数组检测</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/from"><span>Array.from</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/is-array"><span>Array.isArray</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/of"><span>Array.of</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/concat"><span>Array.prototype.concat</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/includes"><span>Array.prototype.includes</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/index-of"><span>Array.prototype.indexOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/join"><span>Array.prototype.join</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/last-index-of"><span>Array.prototype.lastIndexOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/slice"><span>Array.prototype.slice</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/entries"><span>Array.prototype.entries</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/every"><span>Array.prototype.every</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/filter"><span>Array.prototype.filter</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/find"><span>Array.prototype.find</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/find-index"><span>Array.prototype.findIndex</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/for-each"><span>Array.prototype.forEach</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/keys"><span>Array.prototype.keys</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/map"><span>Array.prototype.map</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/reduce"><span>Array.prototype.reduce</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/reduce-right"><span>Array.prototype.reduceRight</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/some"><span>Array.prototype.some</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/fill"><span>Array.prototype.fill</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/pop"><span>Array.prototype.pop</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/push"><span>Array.prototype.push</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/reverse"><span>Array.prototype.reverse</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/shift"><span>Array.prototype.shift</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/sort"><span>Array.prototype.sort</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/splice"><span>Array.prototype.splice</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/unshift"><span>Array.prototype.unshift</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/indexed-collections/array/typed-array"><span>Typed Array</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/">键值集合</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/map"><span>Map</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/prototype"><span>Map 实例的属性和方法</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/set"><span>Set</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/weak-map"><span>WeakMap</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/keyed-collections/weak-set"><span>WeakSet</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/">结构化数据</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/array-buffer"><span>ArrayBuffer</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/json"><span>JSON</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/json-parse"><span>JSON.parse</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/structured-data/json-stringify"><span>JSON.stringify</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/">控制抽象对象</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/iterator"><span>Iterator</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/promise"><span>Promise</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/promise-standard"><span>Promise/A+ 规范</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/all"><span>Promise.all</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/race"><span>Promise.race</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/reject"><span>Promise.reject</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/resolve"><span>Promise.resolve</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/catch"><span>Promise.prototype.catch</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/then"><span>Promise.prototype.then</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/generator"><span>Generator</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/generator-async"><span>Generator 函数的异步应用</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/next"><span>Generator.prototype.next</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/return"><span>Generator.prototype.return</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/control-abstraction-objects/throw"><span>Generator.prototype.throw</span></a></li></ul></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/">Reflection</a><ul><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/proxy"><span>Proxy</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/get"><span>Proxy - handler.get</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/set"><span>Proxy - handler.set</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/has"><span>Proxy - handler.has</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/delete-property"><span>Proxy - handler.deleteProperty</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/own-keys"><span>Proxy - handler.ownKeys</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/get-own-property-descriptor"><span>Proxy - handler.getOwnPropertyDescriptor</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/define-property"><span>Proxy - handler.defineProperty</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/prevent-extensions"><span>Proxy - handler.preventExtensions</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/get-prototype-of"><span>Proxy - handler.getPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/is-extensible"><span>Proxy - handler.isExtensions</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/set-prototype-of"><span>Proxy - handler.setPrototypeOf</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/apply"><span>Proxy - handler.apply</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/construct"><span>Proxy - handler.construct</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/revocable"><span>Proxy - revocable</span></a></li><li><a href="/javascript-guidebook//standard-built-in-objects/reflection/reflect"><span>Reflect</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="语法" data-depth="2" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#语法"><span>语法</span></a></li><li title="描述" data-depth="2" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#描述"><span>描述</span></a></li><li title="示例" data-depth="2" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#示例"><span>示例</span></a></li><li title="标准示例" data-depth="3" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#标准示例"><span>标准示例</span></a></li><li title="全局模式和区分大小写模式" data-depth="3" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#全局模式和区分大小写模式"><span>全局模式和区分大小写模式</span></a></li><li title="单词互换" data-depth="3" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#单词互换"><span>单词互换</span></a></li><li title="使用行内函数来修改匹配到的字符" data-depth="3" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#使用行内函数来修改匹配到的字符"><span>使用行内函数来修改匹配到的字符</span></a></li><li title="将华氏温度转换为对等的摄氏温度" data-depth="3" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#将华氏温度转换为对等的摄氏温度"><span>将华氏温度转换为对等的摄氏温度</span></a></li><li title="转义用户输入特殊字符" data-depth="3" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#转义用户输入特殊字符"><span>转义用户输入特殊字符</span></a></li><li title="转换驼峰命名" data-depth="3" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#转换驼峰命名"><span>转换驼峰命名</span></a></li><li title="数值千位隔断" data-depth="3" class=""><a href="/javascript-guidebook//standard-built-in-objects/text-processing/string/replace#数值千位隔断"><span>数值千位隔断</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="stringprototypereplace"><a aria-hidden="true" href="#stringprototypereplace"><span class="icon icon-link"></span></a>String.prototype.replace()</h1><p><code>replace()</code> 函数用于使用指定字符串替换当前字符串中匹配指定正则表达式模式的子字符串，并返回完成替换后的字符串。</p><h2 id="语法"><a aria-hidden="true" href="#语法"><span class="icon icon-link"></span></a>语法</h2><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="str.replace(pattern, replacement);
" data-status="copy"></button><div class="token-line"><span class="token plain">str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token plain">pattern</span><span class="token punctuation">,</span><span class="token plain"> replacement</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><table><thead><tr><th>参数</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td><code>pattern</code></td><td>指定的正则表达式模式的 RegExp 对象的实例。也可以是字符串。</td><td>string / RegExp</td></tr><tr><td><code>replacement</code></td><td>用于替换的字符串，或返回替换字符串的函数。</td><td>string / function</td></tr></tbody></table><p>一个部分或全部匹配由替代模式所取代的新的字符串。</p><h2 id="描述"><a aria-hidden="true" href="#描述"><span class="icon icon-link"></span></a>描述</h2><ul><li>如果参数 <code>pattern</code> 是字符串，则 <code>replace()</code> 函数将直接根据该字符串进行精确匹配，而不会试图转换为正则表达式，并且 <strong>只替换第一个匹配到</strong> 的子字符串</li><li>参数 <code>replacement</code> 可以使用以下以 <code>$</code> 开头的 <strong>匹配变量</strong> 来动态确定用于替换的字符串内容（参数 <code>pattern</code> 为正则表达式时才生效）</li></ul><table><thead><tr><th>字符</th><th>描述</th></tr></thead><tbody><tr><td><code>$n</code></td><td>假如第一个参数是 <code>RegExp</code> 对象，并且 <code>n</code> 是个小于 100 的非负整数，那么插入第 <code>n</code> 个括号匹配的字符串。</td></tr><tr><td><code><div id="root"></div>amp;</code></td><td>插入匹配的子串。</td></tr><tr><td><strong><!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>String.prototype.replace</title>
  
</head>
  <body>
    </strong></td><td>插入当前匹配的子串左边的内容。</td></tr><tr><td><code><div id="root"></div>#x27;</code></td><td>插入当前匹配的子串右边的内容。</td></tr><tr><td><code>$</code></td><td>插入一个 <code>$</code>。</td></tr></tbody></table><p>在进行全局的搜索替换时，正则表达式需包含 <code>g</code> 标志。</p><ul><li>指定一个函数作为参数</li></ul><p>你可以指定一个函数作为第二个参数。在这种情况下，当匹配执行后， 该函数就会执行。 函数的返回值作为替换字符串。（注意: 上面提到的特殊替换参数在这里不能被使用。) 另外要注意的是， 如果第一个参数是正则表达式， 并且其为全局匹配模式， 那么这个方法将被多次调用， 每次匹配都会被调用。</p><p>下面是该函数的参数：</p><table><thead><tr><th align="center">变量名</th><th align="left">代表的值</th></tr></thead><tbody><tr><td align="center">match</td><td align="left">匹配的子串。（对应于上述的 <code>\<div id="root"></div>amp;</code>。）</td></tr><tr><td align="center">p1,p2, ...</td><td align="left">假如 <code>replace()</code> 方法的第一个参数是一个 <code>RegExp</code> 对象，则代表第 <code>n</code> 个括号匹配的字符串。（对应于上述的 <code>$1</code>，<code>$2</code>等。）</td></tr><tr><td align="center">offset</td><td align="left">匹配到的子字符串在原字符串中的偏移量。（比如，如果原字符串是 <code>&#x27;abcd&#x27;</code>，匹配到的子字符串是 <code>&#x27;bc&#x27;</code>，那么这个参数将是 1）</td></tr><tr><td align="center">string</td><td align="left">被匹配的原字符串。</td></tr></tbody></table><p>精确的参数个数依赖于 <code>replace()</code>的第一个参数是否是一个正则表达式对象， 以及这个正则表达式中指定了多少个括号子串。</p><h2 id="示例"><a aria-hidden="true" href="#示例"><span class="icon icon-link"></span></a>示例</h2><h3 id="标准示例"><a aria-hidden="true" href="#标准示例"><span class="icon icon-link"></span></a>标准示例</h3><p>在下面的例子中，<code>replace()</code> 中使用了正则表达式及忽略大小写标示。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var str = &#x27;Twas the night before Xmas...&#x27;;

var newstr = str.replace(/xmas/i, &#x27;Christmas&#x27;);

console.log(newstr);
// Twas the night before Christmas...

var str = &#x27;Hello world!&#x27;;

// 将字符 &#x27;lo&#x27; 替换为 &#x27;**&#x27;
str.replace(&#x27;lo&#x27;, &#x27;**&#x27;);
// &quot;Hel** world!&quot;

// 将所有 &#x27;h&#x27; 替换为 &#x27;**&#x27;（全局，忽略大小写）
str.replace(/h/ig);
 // &#x27;**ello world!&#x27;

// 将位于单词边界前的两个字母替换为 &#x27;**&#x27;
str.replace(/\w{2}\b/g, &#x27;**&#x27;);
 // &quot;Hel** wor**!&quot;

// 将位于起始位置与单词边界的两个字母替换为 &#x27;**&#x27;（没有匹配项）
str.replace(/^\w{2}\b/g/, &#x27;**&#x27;);
// &quot;Hello world!&quot;

// 在所有的连续两个字母并且后面不跟字母 &#x27;l&#x27; 的字母前添加 &quot;**&quot;
// 这里的 &quot;$1&quot; 就表示正则表达式中第一个小括号内的子表达式匹配到的内容
str.replace(/(\w{2}(?!l))/g, &#x27;**$1&#x27;);
// &quot;He**llo **wo**rld!&quot;
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> str </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Twas the night before Xmas...&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> newstr </span><span class="token operator">=</span><span class="token plain"> str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/xmas/i</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;Christmas&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">newstr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Twas the night before Christmas...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> str </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Hello world!&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 将字符 &#x27;lo&#x27; 替换为 &#x27;**&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token string">&#x27;lo&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;**&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &quot;Hel** world!&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 将所有 &#x27;h&#x27; 替换为 &#x27;**&#x27;（全局，忽略大小写）</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/h/ig</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token comment">// &#x27;**ello world!&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 将位于单词边界前的两个字母替换为 &#x27;**&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/\w{2}\b/g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;**&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token comment">// &quot;Hel** wor**!&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 将位于起始位置与单词边界的两个字母替换为 &#x27;**&#x27;（没有匹配项）</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token operator">/</span><span class="token operator">^</span><span class="token plain">\w</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token plain">\b</span><span class="token operator">/</span><span class="token plain">g</span><span class="token operator">/</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;**&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &quot;Hello world!&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 在所有的连续两个字母并且后面不跟字母 &#x27;l&#x27; 的字母前添加 &quot;**&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 这里的 &quot;$1&quot; 就表示正则表达式中第一个小括号内的子表达式匹配到的内容</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/(\w{2}(?!l))/g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;**$1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &quot;He**llo **wo**rld!&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="全局模式和区分大小写模式"><a aria-hidden="true" href="#全局模式和区分大小写模式"><span class="icon icon-link"></span></a>全局模式和区分大小写模式</h3><p>下面的例子中，正则表达式包含有全局替换（g）和忽略大小写（i）的选项，这使得 <code>replace()</code> 方法用 <code>oranges</code> 替换掉了所有出现的 <code>apples</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var re = /apples/gi;
var str = &#x27;Apples are round, and apples are juicy.&#x27;;
var newstr = str.replace(re, &#x27;oranges&#x27;);

// oranges are round, and oranges are juicy.
console.log(newstr);
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> re </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex">/apples/gi</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> str </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Apples are round, and apples are juicy.&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> newstr </span><span class="token operator">=</span><span class="token plain"> str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token plain">re</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;oranges&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// oranges are round, and oranges are juicy.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">newstr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="单词互换"><a aria-hidden="true" href="#单词互换"><span class="icon icon-link"></span></a>单词互换</h3><p>下面的例子演示了如何交换一个字符串中两个单词的位置，这个脚本使用 <code>$1</code> 和 <code>$2</code> 代替替换文本。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var re = /(\w+)\s(\w+)/;
var str = &#x27;John Smith&#x27;;
var newstr = str.replace(re, &#x27;$2, $1&#x27;);

console.log(newstr); // Smith, John
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> re </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex">/(\w+)\s(\w+)/</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> str </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;John Smith&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> newstr </span><span class="token operator">=</span><span class="token plain"> str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token plain">re</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;$2, $1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">newstr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Smith, John</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="使用行内函数来修改匹配到的字符"><a aria-hidden="true" href="#使用行内函数来修改匹配到的字符"><span class="icon icon-link"></span></a>使用行内函数来修改匹配到的字符</h3><p>在这个例子中，所有出现的大写字母转换为小写，并且在匹配位置前加一个连字符。重要的是，在返回一个替换了的字符串前需要在匹配元素前需要进行添加操作。</p><p>在返回前，替换函数允许匹配片段作为参数，并且将它和连字符进行连接作为新的片段。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function styleHyphenFormat(propertyName) {
  function upperToHyphenLower(match) {
    return &#x27;-&#x27; + match.toLowerCase();
  }
  return propertyName.replace(/[A-Z]/g, upperToHyphenLower);
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">styleHyphenFormat</span><span class="token punctuation">(</span><span class="token parameter">propertyName</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">upperToHyphenLower</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&#x27;-&#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> match</span><span class="token punctuation">.</span><span class="token method function property-access">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> propertyName</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/[A-Z]/g</span><span class="token punctuation">,</span><span class="token plain"> upperToHyphenLower</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>此代码 <code>styleHyphenFormat(&#x27;borderTop&#x27;)</code> 将返回 &#x27;border-top&#x27;。</p><p>因为我们想在最终的替换中进一步转变匹配结果，所以我们必须使用一个函数。这迫使我们在使用 <code>toLowerCase()</code> 方法前进行评估。如果我们尝试不用一个函数进行匹配，那么使用 <code>toLowerCase()</code> 方法将不会有效。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var newString = propertyName.replace(/[A-Z]/g, &#x27;-&#x27; + &#x27;<div id="root"></div>amp;&#x27;.toLowerCase()); // won&#x27;t work
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> newString </span><span class="token operator">=</span><span class="token plain"> propertyName</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/[A-Z]/g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;-&#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;<div id="root"></div>amp;&#x27;</span><span class="token punctuation">.</span><span class="token method function property-access">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// won&#x27;t work</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>这是因为 <code>&#x27;<div id="root"></div>amp;&#x27;.toLowerCase()</code> 会先被解析成字符串字面量（这会导致相同的&#x27;<div id="root"></div>amp;&#x27;)而不是当作一个模式。</p><h3 id="将华氏温度转换为对等的摄氏温度"><a aria-hidden="true" href="#将华氏温度转换为对等的摄氏温度"><span class="icon icon-link"></span></a>将华氏温度转换为对等的摄氏温度</h3><p>下面的例子演示如何将华氏温度转换为对等的摄氏温度。华氏温度用一个数字加一个&quot;F&quot;来表示，这个函数将返回一个数字加&quot;C&quot;来表示的摄氏温度。例如，如果输入是 212F，这个函数将返回 100C。如果输入数字时 0F，这个方法将返回 <code>&quot;-17.77777777777778C&quot;</code>。</p><p>正则表达式 test 检查任何数字是否以 F 结尾。华氏温度通过第二个参数 p1 进入函数。这个函数基于华氏温度作为字符串传递给 f2c 函数设置成摄氏温度。然后 f2c() 返回摄氏温度。这个函数与 Perl 的 s///e 标志相似。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function f2c(x) {
  function convert(str, p1, offset, s) {
    return ((p1 - 32) * 5) / 9 + &#x27;C&#x27;;
  }
  var s = String(x);
  var test = /(\d+(?:\.\d*)?)F\b/g;
  return s.replace(test, convert);
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">f2c</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token parameter punctuation">,</span><span class="token parameter"> p1</span><span class="token parameter punctuation">,</span><span class="token parameter"> offset</span><span class="token parameter punctuation">,</span><span class="token parameter"> s</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">p1 </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">32</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">9</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;C&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> s </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span><span class="token plain">x</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> test </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex">/(\d+(?:\.\d*)?)F\b/g</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> s</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token plain">test</span><span class="token punctuation">,</span><span class="token plain"> convert</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="转义用户输入特殊字符"><a aria-hidden="true" href="#转义用户输入特殊字符"><span class="icon icon-link"></span></a>转义用户输入特殊字符</h3><p>把用户输入的特殊字符进行转义，避免 XSS 攻击。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function htmlEscape(text) {
  return text.replace(/[&lt;&gt;&quot;&amp;]/g, function(match, pos, originalText) {
    switch (match) {
      case &#x27;&lt;&#x27;:
        return &#x27;&amp;lt;&#x27;;
      case &#x27;&gt;&#x27;:
        return &#x27;&amp;gt;&#x27;;
      case &#x27;&quot;&#x27;:
        return &#x27;&amp;quot;&#x27;;
      case &#x27;&amp;&#x27;:
        return &#x27;&amp;amp;&#x27;;
    }
  });
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">htmlEscape</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> text</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/[&lt;&gt;&quot;&amp;]/g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token parameter punctuation">,</span><span class="token parameter"> pos</span><span class="token parameter punctuation">,</span><span class="token parameter"> originalText</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">switch</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">match</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">case</span><span class="token plain"> </span><span class="token string">&#x27;&lt;&#x27;</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&#x27;&amp;lt;&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">case</span><span class="token plain"> </span><span class="token string">&#x27;&gt;&#x27;</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&#x27;&amp;gt;&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">case</span><span class="token plain"> </span><span class="token string">&#x27;&quot;&#x27;</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&#x27;&amp;quot;&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">case</span><span class="token plain"> </span><span class="token string">&#x27;&amp;&#x27;</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&#x27;&amp;amp;&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="转换驼峰命名"><a aria-hidden="true" href="#转换驼峰命名"><span class="icon icon-link"></span></a>转换驼峰命名</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function camelCased(str) {
  const regexp = /-(\w)/g;
  str.replace(regexp, function(match, pos) {
    return pos.toUpperCase();
  });
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">camelCased</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> regexp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token regex">/-(\w)/g</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token plain">regexp</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token parameter punctuation">,</span><span class="token parameter"> pos</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> pos</span><span class="token punctuation">.</span><span class="token method function property-access">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="数值千位隔断"><a aria-hidden="true" href="#数值千位隔断"><span class="icon icon-link"></span></a>数值千位隔断</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const str = &#x27;123456789&#x27;;

const res = str.replace(/\B(?=(\d{3})+(?!\d))/g, &#x27;,&#x27;);

console.log(res);
// 123,456,789
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> str </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;123456789&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> res </span><span class="token operator">=</span><span class="token plain"> str</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/\B(?=(\d{3})+(?!\d))/g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;,&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">res</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 123,456,789</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/standard-built-in-objects/text-processing/string/prototype/replace.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/3/2020, 1:17:05 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/javascript-guidebook/umi.js"></script>
    <script src="/javascript-guidebook/docs__standard-built-in-objects__text-processing__string__prototype__replace.md.js"></script>
  </body>
</html>
