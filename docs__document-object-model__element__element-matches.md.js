(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[208],{Vr2P:function(e,t,n){"use strict";n.r(t);var l=n("q1tI"),a=n.n(l),c=(n("B2uJ"),n("+su7"),n("qOys")),m=n.n(c);n("5Yjd");t["default"]=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"elementmatches"},a.a.createElement("a",{"aria-hidden":"true",href:"#elementmatches"},a.a.createElement("span",{className:"icon icon-link"})),"Element.matches"),a.a.createElement("p",null,"\u6837\u5f0f\u7cbe\u51c6\u5339\u914d"),a.a.createElement("p",null,"\u4f7f\u7528 ",a.a.createElement("code",null,"Element.matches")," \u65b9\u6cd5\u53ef\u4ee5\u901a\u8fc7\u7cbe\u51c6\u5339\u914d\u3002"),a.a.createElement(m.a,{code:"Element.matches(selectorString)\n",lang:"js"}),a.a.createElement("p",null,"\u5982\u679c\u6539\u53d8\u4e0b HTML \u6210\uff1a"),a.a.createElement(m.a,{code:'<ul id="foo">\n  <li className="class-1">item 1</li>\n  <li>item 2</li>\n  <li className="class-1">item 3</li>\n  ......\n  <li>item n</li>\n</ul>\n// ...... \u4ee3\u8868\u4e2d\u95f4\u8fd8\u6709\u672a\u77e5\u6570\u4e2a li\n',lang:"html"}),a.a.createElement("p",null,"\u8fd9\u91cc\uff0c\u6211\u4eec\u60f3\u628a ",a.a.createElement("code",null,"#foo")," \u5143\u7d20\u4e0b\u7684 ",a.a.createElement("code",null,"li")," \u5143\u7d20\uff08\u5e76\u4e14\u5b83\u7684 ",a.a.createElement("code",null,"class")," \u4e3a ",a.a.createElement("code",null,"class-1"),"\uff09\u7684\u70b9\u51fb\u4e8b\u4ef6\u59d4\u6258\u4ee3\u7406\u5230 ",a.a.createElement("code",null,"#foo")," \u4e4b\u4e0a\u3002"),a.a.createElement("p",null,"\u5982\u679c\u901a\u8fc7\u4e0a\u8ff0\u7684\u65b9\u6cd5\u6211\u4eec\u8fd8\u9700\u8981\u5728 ",a.a.createElement("code",null,"if (target.nodeName.toLocaleLowerCase === 'li')")," \u5224\u65ad\u4e4b\u4e2d\u5728\u52a0\u5165\u4e00\u4e2a\u5224\u65ad ",a.a.createElement("code",null,"target.nodeName.className === 'class-1'"),"\u3002"),a.a.createElement("p",null,"\u4f46\u662f\u5982\u679c\u60f3\u50cf CSS \u9009\u62e9\u5668\u822c\u505a\u66f4\u52a0\u7075\u6d3b\u7684\u5339\u914d\u7684\u8bdd\uff0c\u4e0a\u9762\u7684\u5224\u65ad\u672a\u514d\u5c31\u592a\u591a\u4e86\uff0c\u5e76\u4e14\u5f88\u96be\u505a\u5230\u7075\u6d3b\u6027\u3002"),a.a.createElement("p",null,"\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528 ",a.a.createElement("code",null,"Element.matches")," API \u6765\u5339\u914d\u3002"),a.a.createElement("p",null,a.a.createElement("code",null,"Element.matches")," API \u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\uff1a"),a.a.createElement("p",null,a.a.createElement("code",null,"selectorString")," \u65e2\u662f CSS \u90a3\u6837\u7684\u9009\u62e9\u5668\u89c4\u5219\uff0c\u6bd4\u5982\u672c\u4f8b\u4e2d\u53ef\u4ee5\u4f7f\u7528 ",a.a.createElement("code",null,"target.matches('li.class-1')"),"\uff0c\u4ed6\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5982\u679c ",a.a.createElement("code",null,"target")," \u5143\u7d20\u662f\u6807\u7b7e ",a.a.createElement("code",null,"li")," \u5e76\u4e14\u5b83\u7684\u7c7b\u662f ",a.a.createElement("code",null,"class-1")," \uff0c\u90a3\u4e48\u5c31\u4f1a\u8fd4\u56de ",a.a.createElement("code",null,"true"),"\uff0c\u5426\u5219\u8fd4\u56de ",a.a.createElement("code",null,"false"),"\uff1b"),a.a.createElement("p",null,"\u5f53\u7136\u5b83\u7684\u517c\u5bb9\u6027\u8fd8\u6709\u4e00\u4e9b\u95ee\u9898\uff0c\u9700\u8981 IE9 \u53ca\u4ee5\u4e0a\u7684\u73b0\u4ee3\u5316\u6d4f\u89c8\u5668\u7248\u672c\u3002"),a.a.createElement("p",null,"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Polyfill \u6765\u89e3\u51b3\u517c\u5bb9\u6027\u4e0a\u7684\u95ee\u9898\uff1a"),a.a.createElement(m.a,{code:"if (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n      i = matches.length;\n      while (--i >= 0 && matches.item(i) !== this) {}\n      return i > -1;\n    };\n}\n",lang:"js"}),a.a.createElement("p",null,"\u52a0\u4e0a ",a.a.createElement("code",null,"Element.matches")," \u4e4b\u540e\u5c31\u53ef\u4ee5\u6765\u5b9e\u73b0\u6211\u4eec\u7684\u9700\u6c42\u4e86\uff1a"),a.a.createElement(m.a,{code:"if (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function(s) {\n      const matches = (this.document || this.ownerDocument).querySelectorAll(s),\n      i = matches.length;\n      while (--i >= 0 && matches.item(i) !== this) {}\n      return i > -1;\n    };\n}\n\ndocument.getElementById('foo').addEventListener('click', function (e) {\n  // \u517c\u5bb9\u6027\u5904\u7406\n  const event = e || window.event;\n  const target = event.target || event.srcElement;\n\n  if (target.matches('li.class-1')) {\n    console.log('the content is: ', target.innerHTML);\n  }\n});\n",lang:"js"})))}}}]);