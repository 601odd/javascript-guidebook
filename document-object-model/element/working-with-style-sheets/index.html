<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.b538b811.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.7
    </script>
    <title>&#x8BBE;&#x7F6E;&#x6837;&#x5F0F;</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/javascript-guidebook//basic-concept">基本语法</a><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a><a href="/javascript-guidebook//core-modules">核心模块</a><a href="/javascript-guidebook//object-oriented-programming">OOP</a><a href="/javascript-guidebook//browser-object-model">BOM</a><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model">DOM</a><a href="/javascript-guidebook//computer-networks">计算机网络</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model">DOM</a></li><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/javascript-guidebook//document-object-model">DOM 文档对象模型</a></li><li><a href="/javascript-guidebook//document-object-model/dom">文档对象模型</a><ul><li><a href="/javascript-guidebook//document-object-model/dom/dom"><span>文档对象模型</span></a></li><li><a href="/javascript-guidebook//document-object-model/dom/hierarchy-of-nodes"><span>节点层次</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/event-target">EventTarget</a></li><li><a href="/javascript-guidebook//document-object-model/node">Node</a><ul><li><a href="/javascript-guidebook//document-object-model/node/node"><span>Node</span></a></li><li><a href="/javascript-guidebook//document-object-model/node/node-properties"><span>节点属性</span></a></li><li><a href="/javascript-guidebook//document-object-model/node/node-relationships"><span>节点关系</span></a></li><li><a href="/javascript-guidebook//document-object-model/node/node-manipulation"><span>节点操作</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/document">Document</a><ul><li><a href="/javascript-guidebook//document-object-model/document/document"><span>Document</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-properties"><span>文档属性</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-node-creation"><span>文档节点创建</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-element-access"><span>文档元素访问</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-methods"><span>文档方法</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model/element">Element</a><ul><li><a href="/javascript-guidebook//document-object-model/element/element"><span>Element</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/element-traversal"><span>元素遍历</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/dynamic-collection"><span>动态集合</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/accessing-element-styles"><span>查询样式</span></a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model/element/working-with-style-sheets"><span>设置样式</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/element-matches"><span>Element.matches</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/events">DOM 事件流</a><ul><li><a href="/javascript-guidebook//document-object-model/events/event-flow"><span>事件流</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-handlers-or-listener"><span>事件处理程序</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/the-event-object"><span>事件对象</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-delegation"><span>事件委托</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/events/event-types">事件类型</a><ul><li><a href="/javascript-guidebook//document-object-model/events/event-types/event-types"><span>事件类型</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/ui-events"><span>用户界面事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/the-mouse-and-dom-mouse-scroll-events"><span>鼠标与滚轮事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/the-keyboard-and-text-events"><span>键盘与文本事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/the-orientationchange-event"><span>设备事件</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="HTMLElement.style" data-depth="2" class=""><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets#htmlelementstyle"><span>HTMLElement.style</span></a></li><li title="Element.className" data-depth="2" class=""><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets#elementclassname"><span>Element.className</span></a></li><li title="语法" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets#语法"><span>语法</span></a></li><li title="示例" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets#示例"><span>示例</span></a></li><li title="Element.classList" data-depth="2" class=""><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets#elementclasslist"><span>Element.classList</span></a></li><li title="属性" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets#属性"><span>属性</span></a></li><li title="方法" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets#方法"><span>方法</span></a></li><li title="性能" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets#性能"><span>性能</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="设置样式"><a aria-hidden="true" href="#设置样式"><span class="icon icon-link"></span></a>设置样式</h1><p>DOM 设置样式的主要方法有三种：</p><ul><li>HTMLELement.style</li><li>Element.className</li><li>Element.classList</li></ul><h2 id="htmlelementstyle"><a aria-hidden="true" href="#htmlelementstyle"><span class="icon icon-link"></span></a>HTMLElement.style</h2><p><code>HTMLElement.style</code> 属性返回一个 CSSStyleDeclaration 对象，表示元素的内联 style 属性，但忽略任何样式表应用的属性。通过 style 属性可以访问的 CSS 属性列表，可以查看 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Properties_Reference" target="_blank" rel="noopener noreferrer">CSS Properties Reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><p>注意不能通过 <code>style</code> 属性设置字符串来设置 <code>style</code>，因为 <code>style</code> 应被当成是只读的，这是因为通过 <code>style</code> 属性返回的 CSSStyleDeclaration 对象是只读的。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// Wrong
element.style = &#x27;color: blue;&#x27;;
" data-status="copy"></button><div class="token-line"><span class="token comment">// Wrong</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">element</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;color: blue;&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>但是 <code>style</code> 属性本身的属性能够用来设置行内样式。此外，通过单独的样式属性设置会更加简便快捷，除非你希望完全通过一个单独语句来设置元素的全部样式，因为通过 <code>style</code> 本身属性设置的样式不会影响到通过其他方式设置的其他 CSS 属性的样式。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// Bad
element.style.cssText = &#x27;color: blue; border: 1px solid black;&#x27;;
element.setAttribute(&#x27;style&#x27;, &#x27;color: blue; border: 1px solid black;&#x27;);

// Good
element.style.color = &#x27;blue&#x27;;

let st = element.style;
st.color = &#x27;blue&#x27;;
" data-status="copy"></button><div class="token-line"><span class="token comment">// Bad</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">element</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">cssText</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;color: blue; border: 1px solid black;&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">element</span><span class="token punctuation">.</span><span class="token method function property-access">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;style&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;color: blue; border: 1px solid black;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Good</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">element</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">color</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;blue&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> st </span><span class="token operator">=</span><span class="token plain"> element</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">st</span><span class="token punctuation">.</span><span class="token property-access">color</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;blue&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="elementclassname"><a aria-hidden="true" href="#elementclassname"><span class="icon icon-link"></span></a>Element.className</h2><p><code>className</code> 属性可用于获取或设置指定元素的类名属性。</p><h3 id="语法"><a aria-hidden="true" href="#语法"><span class="icon icon-link"></span></a>语法</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// Get class name
const cls = element.className;

// Set class name
element.className = cls;
" data-status="copy"></button><div class="token-line"><span class="token comment">// Get class name</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> cls </span><span class="token operator">=</span><span class="token plain"> element</span><span class="token punctuation">.</span><span class="token property-access">className</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Set class name</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">element</span><span class="token punctuation">.</span><span class="token property-access">className</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> cls</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><table><thead><tr><th>参数</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>element</td><td>需要获取或设置的元素引用</td><td>HTMLElement</td></tr><tr><td>cls</td><td>类名属性的值，可由空格分隔的多个属性值</td><td>DOMString</td></tr></tbody></table><h3 id="示例"><a aria-hidden="true" href="#示例"><span class="icon icon-link"></span></a>示例</h3><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;style dangerouslySetInnerHTML={{ __html: `
  .big {
    height: 100px;
    width: 100px;
    background-color: blue;
  }
  .small {
    height: 50px;
    width: 50px;
    background-color: green;
  }
` }} /&gt;
&lt;div id=&quot;test&quot; class=&quot;big&quot;&gt;&lt;/div&gt;
&lt;script dangerouslySetInnerHTML={{ __html: `
  test.onclick = function() {
    test.className = &#x27;small&#x27;;
  };
` }} /&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">style</span><span class="token tag"> </span><span class="token tag attr-name">dangerouslySetInnerHTML</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value">{{</span><span class="token tag"> </span><span class="token tag attr-name namespace">__html:</span><span class="token tag"> </span><span class="token tag attr-name">`</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">.big</span><span class="token tag"> </span><span class="token tag attr-name">{</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">height:</span><span class="token tag"> </span><span class="token tag attr-name">100px;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">width:</span><span class="token tag"> </span><span class="token tag attr-name">100px;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">background-color:</span><span class="token tag"> </span><span class="token tag attr-name">blue;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">}</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">.small</span><span class="token tag"> </span><span class="token tag attr-name">{</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">height:</span><span class="token tag"> </span><span class="token tag attr-name">50px;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">width:</span><span class="token tag"> </span><span class="token tag attr-name">50px;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">background-color:</span><span class="token tag"> </span><span class="token tag attr-name">green;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">}</span><span class="token tag"></span></div><div class="token-line"><span class="token tag"></span><span class="token tag attr-name">`</span><span class="token tag"> </span><span class="token tag attr-name">}}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">test</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">big</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">dangerouslySetInnerHTML</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value">{{</span><span class="token tag"> </span><span class="token tag attr-name namespace">__html:</span><span class="token tag"> </span><span class="token tag attr-name">`</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">test.onclick</span><span class="token tag"> </span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value"> function()</span><span class="token tag"> </span><span class="token tag attr-name">{</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name">test.className</span><span class="token tag"> </span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value"> </span><span class="token tag attr-value punctuation">&#x27;</span><span class="token tag attr-value">small</span><span class="token tag attr-value punctuation">&#x27;</span><span class="token tag attr-name">;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">};</span><span class="token tag"></span></div><div class="token-line"><span class="token tag"></span><span class="token tag attr-name">`</span><span class="token tag"> </span><span class="token tag attr-name">}}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="elementclasslist"><a aria-hidden="true" href="#elementclasslist"><span class="icon icon-link"></span></a>Element.classList</h2><p><code>Element.classList</code> 属性返回元素的类属性的实时 DOMTokenList 集合。</p><p>在操作类名时，需要通过 <code>className</code> 属性添加、删除和替换类名。因为 <code>className</code> 是一个字符串，所以即使只修改字符串一部分，也必须每次都设置整个字符串的值。要从 <code>className</code> 字符串中删除一个类名，需要把类名拆开，删除不想要的那个，再重新拼成一个新字符串</p><h3 id="属性"><a aria-hidden="true" href="#属性"><span class="icon icon-link"></span></a>属性</h3><p>length 属性，表示元素类名的个数，只读</p><h3 id="方法"><a aria-hidden="true" href="#方法"><span class="icon icon-link"></span></a>方法</h3><h4 id="item"><a aria-hidden="true" href="#item"><span class="icon icon-link"></span></a>item()</h4><p><code>item()</code> 方法获取类名在元素类名列表中的索引值。索引值从 0 开始。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="item(index);
" data-status="copy"></button><div class="token-line"><span class="token function">item</span><span class="token punctuation">(</span><span class="token plain">index</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>如果索引超出范围，则返回 <code>null</code></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="document.body.classList.item(3);
" data-status="copy"></button><div class="token-line"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">item</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h5 id="add"><a aria-hidden="true" href="#add"><span class="icon icon-link"></span></a>add()</h5><p><code>add()</code> 方法为元素添加一个或多个类名。如果类名已经存在，则不会添加。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="add(className1, className2, ...)
" data-status="copy"></button><div class="token-line"><span class="token function">add</span><span class="token punctuation">(</span><span class="token plain">className1</span><span class="token punctuation">,</span><span class="token plain"> className2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h5 id="remove"><a aria-hidden="true" href="#remove"><span class="icon icon-link"></span></a>remove()</h5><p><code>remove()</code>  方法为元素移除一个或多个类名。移除不存在的类名，不会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="remove(className1, className2, ...)
" data-status="copy"></button><div class="token-line"><span class="token function">remove</span><span class="token punctuation">(</span><span class="token plain">className1</span><span class="token punctuation">,</span><span class="token plain"> className2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h5 id="toggle"><a aria-hidden="true" href="#toggle"><span class="icon icon-link"></span></a>toggle()</h5><p><code>toggle()</code>  方法在元素中切换类名。</p><ul><li>第一个参数为要在元素中移除的类名，并返回 <code>false</code>。  如果该类名不存在则会在元素中添加类名，并返回 <code>true</code>。</li><li>第二个是可选参数，是个布尔值用于设置元素是否强制添加或移除类，不管该类名是否存在。</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// remove a class
element.classList.toggle(&#x27;classToRemove&#x27;, false);

// add a class
element.classList.toggle(&#x27;classToAdd&#x27;, true);
" data-status="copy"></button><div class="token-line"><span class="token comment">// remove a class</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">element</span><span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">toggle</span><span class="token punctuation">(</span><span class="token string">&#x27;classToRemove&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// add a class</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">element</span><span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">toggle</span><span class="token punctuation">(</span><span class="token string">&#x27;classToAdd&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h5 id="contains"><a aria-hidden="true" href="#contains"><span class="icon icon-link"></span></a>contains()</h5><p><code>contains()</code> 方法用于检查元素中类名列表中是否包含该类名。如果包含，返回 <code>true</code>，否则返回 <code>false</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="contains(className);
" data-status="copy"></button><div class="token-line"><span class="token function">contains</span><span class="token punctuation">(</span><span class="token plain">className</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="兼容性"><a aria-hidden="true" href="#兼容性"><span class="icon icon-link"></span></a>兼容性</h4><p>由于 IE9-浏览器不支持 <code>classList</code> 属性，也就不支持 <code>add()</code>、<code>contains()</code>、<code>remove()</code> 和 <code>toggle()</code> 这四个方法，下面是这四个方法的兼容写法。</p><p>由于 <code>indexOf()</code> 和 <code>trim()</code> 方法都是 ES5 新增方法，在低版本 IE 浏览器中不支持，所以需要重新封装。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 数组的indexOf方法封装
function indexOf(arr, value, start) {
  //如果不设置start,则默认start为0
  if (arguments.length == 2) {
    start = 0;
  }
  //如果数组中存在indexOf方法，则用原生的indexOf方法
  if (arr.indexOf) {
    return arr.indexOf(value, start);
  }
  for (var i = start; i &lt; arr.length; i++) {
    if (arr[i] === value) {
      return i;
    }
  }
  return -1;
}

// 数组去重方法封装
function noRepeat(arr) {
  var result = [];
  for (var i = 0; i &lt; arr.length; i++) {
    if (indexOf(result, arr[i]) == -1) {
      result.push(arr[i]);
    }
  }
  return result;
}
//inArray方法封装
function inArray(arr, value) {
  for (var i = 0; i &lt; arr.length; i++) {
    if (arr[i] === value) {
      return true;
    }
  }
  return false;
}
//去除首尾空格函数封装
function trim(arr) {
  var result = arr.replace(/^\s+|\s+$/g, &#x27;&#x27;);
  return result;
}
" data-status="copy"></button><div class="token-line"><span class="token comment">// 数组的indexOf方法封装</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token parameter punctuation">,</span><span class="token parameter"> value</span><span class="token parameter punctuation">,</span><span class="token parameter"> start</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//如果不设置start,则默认start为0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">arguments</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    start </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//如果数组中存在indexOf方法，则用原生的indexOf方法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">arr</span><span class="token punctuation">.</span><span class="token property-access">indexOf</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> arr</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token plain">value</span><span class="token punctuation">,</span><span class="token plain"> start</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> start</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> arr</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">arr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> value</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> i</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 数组去重方法封装</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">noRepeat</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> arr</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token plain">result</span><span class="token punctuation">,</span><span class="token plain"> arr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      result</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">arr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> result</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//inArray方法封装</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">inArray</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token parameter punctuation">,</span><span class="token parameter"> value</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> arr</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">arr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> value</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//去除首尾空格函数封装</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> arr</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/^\s+|\s+$/g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> result</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h5 id="addclass"><a aria-hidden="true" href="#addclass"><span class="icon icon-link"></span></a>addClass()</h5><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function addClass(obj, classStr) {
  var array = noRepeat(trim(obj.className).split(&#x27;s+&#x27;));
  if (!inArray(array, classStr)) {
    array.push(classStr);
  }
  obj.className = array.join(&#x27; &#x27;);
  return obj;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token parameter punctuation">,</span><span class="token parameter"> classStr</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> array </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">noRepeat</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token plain">obj</span><span class="token punctuation">.</span><span class="token property-access">className</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;s+&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">inArray</span><span class="token punctuation">(</span><span class="token plain">array</span><span class="token punctuation">,</span><span class="token plain"> classStr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    array</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">classStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  obj</span><span class="token punctuation">.</span><span class="token property-access">className</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> array</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> obj</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h5 id="containsclass"><a aria-hidden="true" href="#containsclass"><span class="icon icon-link"></span></a>containsClass()</h5><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function containsClass(obj, classStr) {
  var array = noRepeat(trim(obj.className).split(&#x27;s+&#x27;));
  if (inArray(array, classStr)) {
    return true;
  }
  return false;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">containsClass</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token parameter punctuation">,</span><span class="token parameter"> classStr</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> array </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">noRepeat</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token plain">obj</span><span class="token punctuation">.</span><span class="token property-access">className</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;s+&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token function">inArray</span><span class="token punctuation">(</span><span class="token plain">array</span><span class="token punctuation">,</span><span class="token plain"> classStr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h5 id="removeclass"><a aria-hidden="true" href="#removeclass"><span class="icon icon-link"></span></a>removeClass()</h5><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function removeClass(obj,classStr){
    var array = noRepeat(trim(obj.className).split(&#x27;\s+&#x27;));
    var index = indexOf(array,classStr);
    if(index != -1){
        array.splice(index,1);
        obj.className = array.join(&#x27; &#x27;);
    }
    return obj;
}
" data-status="copy"></button><div class="token-line"><span class="token plain">function removeClass(obj,classStr){</span></div><div class="token-line"><span class="token plain">    var array = noRepeat(trim(obj.className).split(&#x27;\s+&#x27;));</span></div><div class="token-line"><span class="token plain">    var index = indexOf(array,classStr);</span></div><div class="token-line"><span class="token plain">    if(index != -1){</span></div><div class="token-line"><span class="token plain">        array.splice(index,1);</span></div><div class="token-line"><span class="token plain">        obj.className = array.join(&#x27; &#x27;);</span></div><div class="token-line"><span class="token plain">    }</span></div><div class="token-line"><span class="token plain">    return obj;</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h5 id="toggleclass"><a aria-hidden="true" href="#toggleclass"><span class="icon icon-link"></span></a>toggleClass()</h5><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function toggleClass(obj, classStr) {
  var array = noRepeat(trim(obj.className).split(&#x27;s+&#x27;));
  if (inArray(array, classStr)) {
    removeClass(obj, classStr);
  } else {
    addClass(obj, classStr);
  }
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token parameter punctuation">,</span><span class="token parameter"> classStr</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> array </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">noRepeat</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token plain">obj</span><span class="token punctuation">.</span><span class="token property-access">className</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;s+&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token function">inArray</span><span class="token punctuation">(</span><span class="token plain">array</span><span class="token punctuation">,</span><span class="token plain"> classStr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token plain">obj</span><span class="token punctuation">,</span><span class="token plain"> classStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token plain">obj</span><span class="token punctuation">,</span><span class="token plain"> classStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;style dangerouslySetInnerHTML={{ __html: `
  .cB {
    color: blue;
  }
` }} /&gt;

&lt;div id=&quot;test&quot;&gt;测试文字&lt;/div&gt;
&lt;button id=&quot;btn1&quot; onclick=&quot;addClass(test,&#x27;cB&#x27;)&quot;&gt;add&lt;/button&gt;
&lt;button id=&quot;btn2&quot; onclick=&quot;containsClass(test,&#x27;cB&#x27;)?alert(true):alert(false)&quot;&gt;contains&lt;/button&gt;
&lt;button id=&quot;btn3&quot; onclick=&quot;removeClass(test,&#x27;cB&#x27;)&quot;&gt;remove&lt;/button&gt;
&lt;button id=&quot;btn4&quot; onclick=&quot;toggleClass(test,&#x27;cB&#x27;)&quot;&gt;toggle&lt;/button&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">style</span><span class="token tag"> </span><span class="token tag attr-name">dangerouslySetInnerHTML</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value">{{</span><span class="token tag"> </span><span class="token tag attr-name namespace">__html:</span><span class="token tag"> </span><span class="token tag attr-name">`</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">.cB</span><span class="token tag"> </span><span class="token tag attr-name">{</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">color:</span><span class="token tag"> </span><span class="token tag attr-name">blue;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">}</span><span class="token tag"></span></div><div class="token-line"><span class="token tag"></span><span class="token tag attr-name">`</span><span class="token tag"> </span><span class="token tag attr-name">}}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">test</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain">测试文字</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">button</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">btn1</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onclick</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">addClass(test,&#x27;cB&#x27;)</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain">add</span><span class="token tag punctuation">&lt;/</span><span class="token tag">button</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">button</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">btn2</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onclick</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">containsClass(test,&#x27;cB&#x27;)?alert(true):alert(false)</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain">contains</span><span class="token tag punctuation">&lt;/</span><span class="token tag">button</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">button</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">btn3</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onclick</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">removeClass(test,&#x27;cB&#x27;)</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain">remove</span><span class="token tag punctuation">&lt;/</span><span class="token tag">button</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">button</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">btn4</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">onclick</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">toggleClass(test,&#x27;cB&#x27;)</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain">toggle</span><span class="token tag punctuation">&lt;/</span><span class="token tag">button</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="性能"><a aria-hidden="true" href="#性能"><span class="icon icon-link"></span></a>性能</h3><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&lt;div id=&quot;test&quot; style=&quot;height:100px;width:100px;background-color:blue;&quot;&gt;&lt;/div&gt;
&lt;script dangerouslySetInnerHTML={{ __html: `
  test.onclick = function() {
    console.time();
    for (var i = 0; i &lt; 10000; i++) {
      test.style.backgroundColor = &#x27;green&#x27;;
      test.style.height = &#x27;50px&#x27;;
      test.style.width = &#x27;50px&#x27;;
    }
    console.timeEnd(); //59.937ms
  };
` }} /&gt;
/*****************************/
&lt;div id=&quot;test&quot; style=&quot;height:100px;width:100px;background-color:blue;&quot;&gt;&lt;/div&gt;
&lt;script dangerouslySetInnerHTML={{ __html: `
  test.onclick = function() {
    console.time();
    for (var i = 0; i &lt; 10000; i++) {
      test.style.cssText = &#x27;height:50px;width:50px;background-color:green&#x27;;
    }
    console.timeEnd(); //38.065ms
  };
` }} /&gt;
/*****************************/
&lt;style dangerouslySetInnerHTML={{ __html: `
  .big {
    --------------height: 100px;
    width: 100px;
    background-color: blue;
  }
  .small {
    height: 50px;
    width: 50px;
    background-color: green;
  }
` }} /&gt;
&lt;div id=&quot;test&quot; class=&quot;big&quot;&gt;&lt;/div&gt;
&lt;script dangerouslySetInnerHTML={{ __html: `
  test.onclick = function() {
    console.time();
    for (var i = 0; i &lt; 10000; i++) {
      test.className = &#x27;small&#x27;;
    }
    console.timeEnd(); //9.534ms
  };
` }} /&gt;
" data-status="copy"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">test</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag style-attr language-css attr-name"> </span><span class="token tag style-attr language-css attr-name">style</span><span class="token tag style-attr language-css punctuation">=&quot;</span><span class="token tag style-attr language-css attr-value property">height</span><span class="token tag style-attr language-css attr-value punctuation">:</span><span class="token tag style-attr language-css attr-value number">100</span><span class="token tag style-attr language-css attr-value unit">px</span><span class="token tag style-attr language-css attr-value punctuation">;</span><span class="token tag style-attr language-css attr-value property">width</span><span class="token tag style-attr language-css attr-value punctuation">:</span><span class="token tag style-attr language-css attr-value number">100</span><span class="token tag style-attr language-css attr-value unit">px</span><span class="token tag style-attr language-css attr-value punctuation">;</span><span class="token tag style-attr language-css attr-value property">background-color</span><span class="token tag style-attr language-css attr-value punctuation">:</span><span class="token tag style-attr language-css attr-value">blue</span><span class="token tag style-attr language-css attr-value punctuation">;</span><span class="token tag style-attr language-css punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">&lt;script dangerouslySetInnerHTML={{ __html: `</span></div><div class="token-line"><span class="token plain">  test.onclick = function() {</span></div><div class="token-line"><span class="token plain">    console.time();</span></div><div class="token-line"><span class="token plain">    for (var i = 0; i &lt; 10000; i++) {</span></div><div class="token-line"><span class="token plain">      test.style.backgroundColor = &#x27;green&#x27;;</span></div><div class="token-line"><span class="token plain">      test.style.height = &#x27;50px&#x27;;</span></div><div class="token-line"><span class="token plain">      test.style.width = &#x27;50px&#x27;;</span></div><div class="token-line"><span class="token plain">    }</span></div><div class="token-line"><span class="token plain">    console.timeEnd(); //59.937ms</span></div><div class="token-line"><span class="token plain">  };</span></div><div class="token-line"><span class="token plain">` }} /&gt;</span></div><div class="token-line"><span class="token plain">/*****************************/</span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">test</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag style-attr language-css attr-name"> </span><span class="token tag style-attr language-css attr-name">style</span><span class="token tag style-attr language-css punctuation">=&quot;</span><span class="token tag style-attr language-css attr-value property">height</span><span class="token tag style-attr language-css attr-value punctuation">:</span><span class="token tag style-attr language-css attr-value number">100</span><span class="token tag style-attr language-css attr-value unit">px</span><span class="token tag style-attr language-css attr-value punctuation">;</span><span class="token tag style-attr language-css attr-value property">width</span><span class="token tag style-attr language-css attr-value punctuation">:</span><span class="token tag style-attr language-css attr-value number">100</span><span class="token tag style-attr language-css attr-value unit">px</span><span class="token tag style-attr language-css attr-value punctuation">;</span><span class="token tag style-attr language-css attr-value property">background-color</span><span class="token tag style-attr language-css attr-value punctuation">:</span><span class="token tag style-attr language-css attr-value">blue</span><span class="token tag style-attr language-css attr-value punctuation">;</span><span class="token tag style-attr language-css punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">&lt;script dangerouslySetInnerHTML={{ __html: `</span></div><div class="token-line"><span class="token plain">  test.onclick = function() {</span></div><div class="token-line"><span class="token plain">    console.time();</span></div><div class="token-line"><span class="token plain">    for (var i = 0; i &lt; 10000; i++) {</span></div><div class="token-line"><span class="token plain">      test.style.cssText = &#x27;height:50px;width:50px;background-color:green&#x27;;</span></div><div class="token-line"><span class="token plain">    }</span></div><div class="token-line"><span class="token plain">    console.timeEnd(); //38.065ms</span></div><div class="token-line"><span class="token plain">  };</span></div><div class="token-line"><span class="token plain">` }} /&gt;</span></div><div class="token-line"><span class="token plain">/*****************************/</span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">style</span><span class="token tag"> </span><span class="token tag attr-name">dangerouslySetInnerHTML</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value">{{</span><span class="token tag"> </span><span class="token tag attr-name namespace">__html:</span><span class="token tag"> </span><span class="token tag attr-name">`</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">.big</span><span class="token tag"> </span><span class="token tag attr-name">{</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">--------------height:</span><span class="token tag"> </span><span class="token tag attr-name">100px;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">width:</span><span class="token tag"> </span><span class="token tag attr-name">100px;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">background-color:</span><span class="token tag"> </span><span class="token tag attr-name">blue;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">}</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">.small</span><span class="token tag"> </span><span class="token tag attr-name">{</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">height:</span><span class="token tag"> </span><span class="token tag attr-name">50px;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">width:</span><span class="token tag"> </span><span class="token tag attr-name">50px;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">    </span><span class="token tag attr-name namespace">background-color:</span><span class="token tag"> </span><span class="token tag attr-name">green;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">}</span><span class="token tag"></span></div><div class="token-line"><span class="token tag"></span><span class="token tag attr-name">`</span><span class="token tag"> </span><span class="token tag attr-name">}}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">id</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">test</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">big</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">&lt;script dangerouslySetInnerHTML={{ __html: `</span></div><div class="token-line"><span class="token plain">  test.onclick = function() {</span></div><div class="token-line"><span class="token plain">    console.time();</span></div><div class="token-line"><span class="token plain">    for (var i = 0; i &lt; 10000; i++) {</span></div><div class="token-line"><span class="token plain">      test.className = &#x27;small&#x27;;</span></div><div class="token-line"><span class="token plain">    }</span></div><div class="token-line"><span class="token plain">    console.timeEnd(); //9.534ms</span></div><div class="token-line"><span class="token plain">  };</span></div><div class="token-line"><span class="token plain">` }} /&gt;</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在 1 万次循环中，改变 <code>style</code> 属性中的具体样式花费了 59.937ms，改变 <code>style</code> 属性中的 <code>cssText</code> 花费了 38.065ms，而改变 CSS 类名只花费了 9.534ms。</p><p>由此可见，使用脚本化 CSS 类的方式可以大大地提高性能。</p><hr/><p>参考资料：</p><ul><li><a href="https://juejin.im/entry/573e97e3ad5b9500576fc758" target="_blank" rel="noopener noreferrer">HTML5 DOM 元素类名相关操作 API classList 简介<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/document-object-model/element/working-with-style-sheets.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">7/2/2020, 4:20:09 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/javascript-guidebook/umi.ea2532d0.js"></script>
    <script src="/javascript-guidebook/docs__document-object-model__element__working-with-style-sheets.md.dd8648db.async.js"></script>
  </body>
</html>
