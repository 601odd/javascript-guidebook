<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.20
    </script>
    <title>键盘与文本事件</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/javascript-guidebook//basic-concept">基本语法</a><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a><a href="/javascript-guidebook//core-modules">核心模块</a><a href="/javascript-guidebook//object-oriented-programming">OOP</a><a href="/javascript-guidebook//browser-object-model">BOM</a><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model">DOM</a><a href="/javascript-guidebook//computer-networks">计算机网络</a><a href="/javascript-guidebook//design-patterns">设计模式</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model">DOM</a></li><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a href="/javascript-guidebook//design-patterns">设计模式</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/javascript-guidebook//document-object-model">DOM 文档对象模型</a></li><li><a href="/javascript-guidebook//document-object-model/dom">文档对象模型</a><ul><li><a href="/javascript-guidebook//document-object-model/dom/dom"><span>文档对象模型</span></a></li><li><a href="/javascript-guidebook//document-object-model/dom/hierarchy-of-nodes"><span>节点层次</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/event-target">EventTarget</a></li><li><a href="/javascript-guidebook//document-object-model/node">Node</a><ul><li><a href="/javascript-guidebook//document-object-model/node/node"><span>Node</span></a></li><li><a href="/javascript-guidebook//document-object-model/node/node-properties"><span>节点属性</span></a></li><li><a href="/javascript-guidebook//document-object-model/node/node-relationships"><span>节点关系</span></a></li><li><a href="/javascript-guidebook//document-object-model/node/node-manipulation"><span>节点操作</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/document">Document</a><ul><li><a href="/javascript-guidebook//document-object-model/document/document"><span>Document</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-properties"><span>文档属性</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-node-creation"><span>文档节点创建</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-element-access"><span>文档元素访问</span></a></li><li><a href="/javascript-guidebook//document-object-model/document/document-methods"><span>文档方法</span></a></li></ul></li><li><a href="/javascript-guidebook//document-object-model/element">Element</a><ul><li><a href="/javascript-guidebook//document-object-model/element/element"><span>Element</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/element-traversal"><span>元素遍历</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/dynamic-collection"><span>动态集合</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/accessing-element-styles"><span>查询样式</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/working-with-style-sheets"><span>设置样式</span></a></li><li><a href="/javascript-guidebook//document-object-model/element/element-matches"><span>Element.matches</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model/events">DOM 事件流</a><ul><li><a href="/javascript-guidebook//document-object-model/events/event-flow"><span>事件流</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-handlers-or-listener"><span>事件处理程序</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/the-event-object"><span>事件对象</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-delegation"><span>事件委托</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model/events/event-types">事件类型</a><ul><li><a href="/javascript-guidebook//document-object-model/events/event-types/event-types"><span>事件类型</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/ui-events"><span>用户界面事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/the-mouse-and-dom-mouse-scroll-events"><span>鼠标与滚轮事件</span></a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//document-object-model/events/event-types/the-keyboard-and-text-events"><span>键盘与文本事件</span></a></li><li><a href="/javascript-guidebook//document-object-model/events/event-types/the-orientationchange-event"><span>设备事件</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="键盘与文本事件" data-depth="2" class=""><a href="/javascript-guidebook//document-object-model/events/event-types/the-keyboard-and-text-events#键盘与文本事件"><span>键盘与文本事件</span></a></li><li title="键码" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/events/event-types/the-keyboard-and-text-events#键码"><span>键码</span></a></li><li title="字符编码" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/events/event-types/the-keyboard-and-text-events#字符编码"><span>字符编码</span></a></li><li title="textInput 事件" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/events/event-types/the-keyboard-and-text-events#textinput-事件"><span>textInput 事件</span></a></li><li title="设备中的键盘事件" data-depth="3" class=""><a href="/javascript-guidebook//document-object-model/events/event-types/the-keyboard-and-text-events#设备中的键盘事件"><span>设备中的键盘事件</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h2 id="键盘与文本事件"><a aria-hidden="true" href="#键盘与文本事件"><span class="icon icon-link"></span></a>键盘与文本事件</h2><p>用户在使用键盘时会触发键盘事件。</p><p>键盘事件：</p><ul><li><code>keydown</code>：当用户按下键盘上的任意时触发，而且如果按住不放的话，会重复触发此事件</li><li><code>keypress</code>：当用户按下键盘上的字符键时触发，而且如果按住不放的话，会重复触发此事件</li><li><code>keyup</code>：当用户释放键盘上的键时触发</li></ul><p>文本事件：</p><ul><li><code>textInput</code>：在文本插入文本框之前会触发 <code>textInput</code> 事件</li></ul><p>程序：</p><p>当用户按下一个键盘上的字符键：<code>keydown</code> -&gt; <code>keypress</code> -&gt; <code>keyup</code></p><p>当用户按下一个键盘上的非字符键：<code>keydown</code> -&gt; <code>keyup</code></p><h3 id="键码"><a aria-hidden="true" href="#键码"><span class="icon icon-link"></span></a>键码</h3><p>在发生 <code>keydown</code> 和 <code>keyup</code> 事件时，<code>event</code> 对象的 <code>keycode</code> 属性中会包含一个代码，与键盘上一个特定的键对应。对数字字母字符键，<code>keycode</code> 属性的值与 ASCII 码对应小写字母或数字的编码相同。</p><table><thead><tr><th>键</th><th>键码</th><th>键</th><th>键码</th></tr></thead><tbody><tr><td>退格（Backspace）</td><td>8</td><td>数字小键盘 9</td><td>105</td></tr><tr><td>制表（Tab）</td><td>9</td><td>数字小键盘+</td><td>107</td></tr><tr><td>回车（Enter）</td><td>13</td><td>数字小键盘及大键盘上的-</td><td>109</td></tr><tr><td>上档（Shift）</td><td>16</td><td>数字小键盘.</td><td>110</td></tr><tr><td>控制（Ctrl）</td><td>17</td><td>数字小键盘/</td><td>111</td></tr><tr><td>Alt</td><td>18</td><td>F1</td><td>112</td></tr><tr><td>暂停/中断（Pause/Break）</td><td>19</td><td>F2</td><td>113</td></tr><tr><td>大写（Caps Lock）</td><td>20</td><td>F3</td><td>114</td></tr><tr><td>退出（Esc）</td><td>27</td><td>F4</td><td>115</td></tr><tr><td>上翻页（Page Up）</td><td>33</td><td>F5</td><td>116</td></tr><tr><td>下翻页（Page Down）</td><td>34</td><td>F6</td><td>117</td></tr><tr><td>结尾（End）</td><td>35</td><td>F7</td><td>118</td></tr><tr><td>开头（Home）</td><td>36</td><td>F8</td><td>119</td></tr><tr><td>左箭头（Left Arrow）</td><td>37</td><td>F9</td><td>120</td></tr><tr><td>上箭头（Up Arrow）</td><td>38</td><td>F10</td><td>121</td></tr><tr><td>右箭头（Right Arrow）</td><td>39</td><td>F11</td><td>122</td></tr><tr><td>下箭头（Down Arrow）</td><td>40</td><td>F12</td><td>123</td></tr><tr><td>插入（Ins）</td><td>45</td><td>数字锁</td><td>144</td></tr><tr><td>删除（Del）</td><td>46</td><td>滚动锁</td><td>145</td></tr><tr><td>左 Windows 键</td><td>91</td><td>分号（E/Safari/Chrome）</td><td>186</td></tr><tr><td>右 Windows 键</td><td>91</td><td>分号（Opera/Firefox）</td><td>59</td></tr><tr><td>上下文菜单键</td><td>93</td><td>小于</td><td>188</td></tr><tr><td>数字小键盘 0</td><td>96</td><td>大于</td><td>190</td></tr><tr><td>数字小键盘 1</td><td>97</td><td>正斜杠</td><td>191</td></tr><tr><td>数字小键盘 2</td><td>98</td><td>沉音符</td><td>192</td></tr><tr><td>数字小键盘 3</td><td>99</td><td>等于</td><td>61</td></tr><tr><td>数字小键盘 4</td><td>100</td><td>左方括号</td><td>219</td></tr><tr><td>数字小键盘 5</td><td>101</td><td>反斜杠</td><td>220</td></tr><tr><td>数字小键盘 6</td><td>102</td><td>右方括号</td><td>221</td></tr><tr><td>数字小键盘 7</td><td>103</td><td>单引号</td><td>222</td></tr><tr><td>数字小键盘 8</td><td>104</td><td></td><td></td></tr></tbody></table><h3 id="字符编码"><a aria-hidden="true" href="#字符编码"><span class="icon icon-link"></span></a>字符编码</h3><p><code>charCode</code> 这个属性只有在发生 <code>keypress</code> 事件才包含值，而且这个值是按下的那个键所代表字符的 ASCⅡ 编码，此时的 <code>keyCode</code> 通常等于 0 或者也可能等于所按键的键码。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const EventUtil = {
  // 省略的代码
  getCharCode: function(event) {
    if (typeof event.charCode == &#x27;number&#x27;) {
      return event.charCode;
    } else {
      return event.keyCode;
    }
  },
};
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token maybe-class-name">EventUtil</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 省略的代码</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function">getCharCode</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> event</span><span class="token punctuation">.</span><span class="token property-access">charCode</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string">&#x27;number&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> event</span><span class="token punctuation">.</span><span class="token property-access">charCode</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> event</span><span class="token punctuation">.</span><span class="token property-access">keyCode</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>这个方法首先检测 <code>charCode</code> 属性是否包含数值（在不支持这个属性的浏览器中，值为 <code>undefined</code>），如果是，则返回改值。否则，就返回 <code>keyCode</code> 属性值。</p><h3 id="textinput-事件"><a aria-hidden="true" href="#textinput-事件"><span class="icon icon-link"></span></a>textInput 事件</h3><p>当用户在可编辑区域中输入字符时，就会触发这个事件。这个用于替代 <code>keypress</code> 的 <code>textInput</code> 事件的行为稍有不同。区别之一就是任何可以获得焦点的元素都可以触发 <code>keypress</code> 事件，但只有可编辑区域才能触发 <code>textInput</code> 事件。区别之二是 <code>textInput</code> 事件只会在用户按下能够输入实际字符的键时才会被触发，而 <code>keypress</code> 事件则在按下那些能够影响文本显示的键时也会触发（例如退格键）。</p><p>由于 <code>textInput</code> 事件主要考虑的是字符，因此它的 <code>event</code> 对象中还包含一个 <code>deta</code> 属性，这个属性的值就是用户输入的字符（而非字符编码）。换句话说，用户在没有按上档键的情况下按下了 S 键，<code>data</code> 的值就是 <code>&quot;s&quot;</code>，而如果在按住上档键时按下该键，<code>data</code> 的值就是 <code>&quot;S&quot;</code>。</p><h3 id="设备中的键盘事件"><a aria-hidden="true" href="#设备中的键盘事件"><span class="icon icon-link"></span></a>设备中的键盘事件</h3><p>任天堂 Wii 会在用户按下 Wii 遥控器上的按键时触发键盘事件。尽管没有办法访问 Wii 遥控器中的所有按键，但还是有一些键可以触发键盘事件。</p><p>当用户按下十字键盘（键码为 175 ～ 178）、减号（170）、加号（174）、1（172）或 2（173）键时就会触发键盘事件。但没有办法得知用户是否按下了电源开关、A、B 或主页键。</p><p>iOS 版 Safari 和 Android 版 Webkit 在使用屏幕键盘时会触发键盘事件。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/document-object-model/events/event-types/the-keyboard-and-text-events.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/15/2020, 12:56:30 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/javascript-guidebook/umi.js"></script>
    <script src="/javascript-guidebook/docs__document-object-model__events__event-types__the-keyboard-and-text-events.md.js"></script>
  </body>
</html>
