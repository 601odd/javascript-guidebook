(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[153],{"2itF":function(e,n,a){"use strict";a.r(n);var l=a("q1tI"),t=a.n(l),c=(a("B2uJ"),a("+su7"),a("qOys")),r=a.n(c);a("5Yjd");n["default"]=function(){return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h1",{id:"\u51fd\u6570\u7761\u7720"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u51fd\u6570\u7761\u7720"},t.a.createElement("span",{className:"icon icon-link"})),"\u51fd\u6570\u7761\u7720"),t.a.createElement("p",null,"\u4f2a\u547d\u9898\uff0cJavaScript \u5f15\u64ce\u7ebf\u7a0b\u65e0\u6cd5\u6302\u8d77\uff0c\u901a\u8fc7\u5f02\u6b65\u5b9e\u73b0\u7c7b\u4f3c sleep \u7684\u6548\u679c\u3002"),t.a.createElement("h2",{id:"\u4ee3\u7801\u5b9e\u73b0"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u5b9e\u73b0"},t.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u5b9e\u73b0"),t.a.createElement("h3",{id:"\u56de\u8c03\u51fd\u6570\u5b9e\u73b0"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u56de\u8c03\u51fd\u6570\u5b9e\u73b0"},t.a.createElement("span",{className:"icon icon-link"})),"\u56de\u8c03\u51fd\u6570\u5b9e\u73b0"),t.a.createElement(r.a,{code:"const sleep = (cb, time) => setTimeout(cb, time);\n\nsleep(() => {\n  console.log('Hello world!');\n}, 1000);\n",lang:"js"}),t.a.createElement("h3",{id:"promise-\u5b9e\u73b0"},t.a.createElement("a",{"aria-hidden":"true",href:"#promise-\u5b9e\u73b0"},t.a.createElement("span",{className:"icon icon-link"})),"Promise \u5b9e\u73b0"),t.a.createElement(r.a,{code:"function sleep(time) {\n  return function() {\n    return new Promise(function(resolve, reject) {\n      setTimeout(resolve, time);\n    });\n  };\n}\n\nconst promise = new Promise(function(resolve) {\n  console.log('do something');\n  resolve();\n})\n  .then(sleep(2000))\n  .then(function() {\n    console.log('after sleep 2000');\n  });\n",lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u4f18\u70b9\uff1a\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u9645\u4e0a\u662f\u7528\u4e86 ",t.a.createElement("code",null,"setTimeout"),"\uff0c\u6ca1\u6709\u5f62\u6210\u8fdb\u7a0b\u963b\u585e\uff0c\u4e0d\u4f1a\u9020\u6210\u6027\u80fd\u548c\u8d1f\u8f7d\u95ee\u9898"),t.a.createElement("li",null,"\u7f3a\u70b9\uff1a\u867d\u7136\u4e0d\u50cf ",t.a.createElement("code",null,"callback")," \u5957\u90a3\u4e48\u591a\u5c42\uff0c\u4f46\u4ecd\u4e0d\u600e\u4e48\u7f8e\u89c2\uff0c\u800c\u4e14\u5f53\u6211\u4eec\u9700\u8981\u5728\u67d0\u8fc7\u7a0b\u4e2d\u9700\u8981\u505c\u6b62\u6267\u884c\uff08\u6216\u8005\u5728\u4e2d\u9014\u8fd4\u56de\u4e86\u9519\u8bef\u7684\u503c\uff09\uff0c\u8fd8\u5fc5\u987b\u5f97\u5c42\u5c42\u5224\u65ad\u540e\u8df3\u51fa\uff0c\u975e\u5e38\u9ebb\u70e6\uff0c\u800c\u4e14\u8fd9\u79cd\u5f02\u6b65\u5e76\u4e0d\u662f\u90a3\u4e48\u5f7b\u5e95\uff0c\u8fd8\u662f\u770b\u8d77\u6765\u522b\u626d")),t.a.createElement("h3",{id:"generator-\u5b9e\u73b0"},t.a.createElement("a",{"aria-hidden":"true",href:"#generator-\u5b9e\u73b0"},t.a.createElement("span",{className:"icon icon-link"})),"Generator \u5b9e\u73b0"),t.a.createElement(r.a,{code:"function* sleep(time) {\n  yield new Promise(function(resolve, reject) {\n    setTimeout(resolve, time);\n  });\n}\n\nsleep(1000)\n  .next()\n  .value.then(() => {\n    console.log('Hello world!');\n  });\n",lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u4f18\u70b9\uff1a\u540c Promise \u4f18\u70b9\uff0c\u53e6\u5916\u4ee3\u7801\u5c31\u53d8\u5f97\u975e\u5e38\u7b80\u5355\u5e72\u51c0\uff0c\u6ca1\u6709 ",t.a.createElement("code",null,"then")," \u90a3\u4e48\u751f\u786c\u548c\u6076\u5fc3"),t.a.createElement("li",null,"\u7f3a\u70b9\uff1a\u4f46\u4e0d\u8db3\u4e5f\u5f88\u660e\u663e\uff0c\u5c31\u662f\u6bcf\u6b21\u90fd\u8981\u6267\u884c ",t.a.createElement("code",null,"next")," \u663e\u5f97\u5f88\u9ebb\u70e6\uff0c\u867d\u7136\u6709 ",t.a.createElement("code",null,"co"),"\uff08\u7b2c\u4e09\u65b9\u5305\uff09\u53ef\u4ee5\u89e3\u51b3\uff0c\u4f46\u5c31\u591a\u5305\u4e86\u4e00\u5c42\u4e0d\u597d\u770b\uff0c\u9519\u8bef\u4e5f\u5fc5\u987b\u6309 ",t.a.createElement("code",null,"co")," \u7684\u903b\u8f91\u6765\u5904\u7406\u4e0d\u723d")),t.a.createElement("h3",{id:"asyncawait-\u5b9e\u73b0"},t.a.createElement("a",{"aria-hidden":"true",href:"#asyncawait-\u5b9e\u73b0"},t.a.createElement("span",{className:"icon icon-link"})),"Async/Await \u5b9e\u73b0"),t.a.createElement(r.a,{code:"function sleep(time) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, time);\n  });\n}\n\nasync function test() {\n  const res = await sleep(1000);\n\n  console.log('Hello world!');\n  return res;\n}\n// \u5ef6\u8fdf 1000ms \u8f93\u51fa \"Hello world!\"\n",lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u4f18\u70b9\uff1a\u540c Promise \u548c Generator \u7684\u4f18\u70b9\u3002Async/Await \u53ef\u4ee5\u770b\u5ea7\u662f Generator \u7684\u8bed\u6cd5\u7cd6\uff0cAsync \u548c Await \u76f8\u8f83\u4e8e ",t.a.createElement("code",null,"*")," \u548c ",t.a.createElement("code",null,"yield")," \u66f4\u52a0\u8bed\u4e49\uff0c\u53e6\u5916\u5404\u4e2a\u51fd\u6570\u90fd\u662f\u6241\u5e73\u7684\uff0c\u4e0d\u4f1a\u4ea7\u751f\u591a\u4f59\u7684\u5d4c\u5957\uff0c\u4ee3\u7801\u66f4\u52a0\u6e05\u723d\u6613\u8bfb\u3002"),t.a.createElement("li",null,"\u7f3a\u70b9\uff1aES7 \u8bed\u6cd5\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u6709 Babel \u4e00\u5207\u517c\u5bb9\u6027\u90fd\u4e0d\u662f\u95ee\u9898")),t.a.createElement("h3",{id:"\u4f7f\u7528-node-sleep"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u4f7f\u7528-node-sleep"},t.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528 node-sleep"),t.a.createElement(r.a,{code:"const sleep = requir('node-sleep');\nconst sec = 10;\n\nsleep.sleep(sec);\n// Sleep for sec seconds\nsleep.msleep(sec);\n// Sleep for sec milliseconds\nsleep.usleep(sec);\n// Sleep for sec microseconds\uff081 second is 1000000 microseconds\uff09\n",lang:"js"})))}}}]);