(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[364],{vmSf:function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),l=t.n(n),c=(t("B2uJ"),t("+su7"),t("qOys")),r=t.n(c);t("5Yjd");a["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"weakset"},l.a.createElement("a",{"aria-hidden":"true",href:"#weakset"},l.a.createElement("span",{className:"icon icon-link"})),"WeakSet"),l.a.createElement("p",null,"WeakSet \u7ed3\u6784\u4e0e Set \u7c7b\u4f3c\uff0c\u4e5f\u662f\u4e0d\u91cd\u590d\u7684\u503c\u7684\u96c6\u5408\u3002\u4f46\u662f\uff0c\u5b83\u4e0e Set \u6709\u4e24\u4e2a\u533a\u522b\u3002"),l.a.createElement("p",null,"WeakSet \u662f\u4e00\u4e2a\u4e2a\u6784\u9020\u51fd\u6570\u3002\u53ef\u4ee5\u63a5\u53d7\u6570\u7ec4\u548c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\uff08\u5b9e\u9645\u4e0a\uff0c\u4efb\u4f55\u5177\u4f5c\u4e3a Iterable \u63a5\u53e3\u7684\u5bf9\u8c61\u90fd\u53ef\u4ee5\u4f5c\u4e3a WeakSet \u7684\u53c2\u6570\uff09\u3002\u8be5\u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u90fd\u4f1a\u81ea\u52a8\u6210\u4e3a WeakSet \u7684\u5b9e\u4f8b\u5bf9\u8c61\u7684\u6210\u5458\u3002"),l.a.createElement("p",null,"WeakSet \u7684\u6210\u5458\u53ea\u80fd\u662f\u5bf9\u8c61\uff0c\u800c\u4e0d\u80fd\u662f\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u3002"),l.a.createElement("p",null,"WeakSet \u4e2d\u7684\u5bf9\u8c61\u90fd\u662f\u5f31\u4f5c\u7528\uff0c\u5373\u5783\u573e\u56de\u6536\u673a\u5236\u4e0d\u8003\u8651 WeakSet \u5bf9\u8be5\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5176\u4ed6\u5bf9\u8c61\u90fd\u4e0d\u518d\u5f15\u7528\u8be5\u5bf9\u8c61\uff0c\u90a3\u4e48\u5783\u573e\u56de\u6536\u673a\u5236\u4f1a\u81ea\u52a8\u56de\u6536\u8be5\u5bf9\u8c61\u6240\u5360\u7528\u7684\u5185\u5b58\uff0c\u4e0d\u8003\u8651\u5bf9\u8c61\u662f\u5426\u8fd8\u5b58\u5728\u4e8e WeakSet \u4e4b\u4e2d\u3002"),l.a.createElement("h2",{id:"\u8bed\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u8bed\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u8bed\u6cd5"),l.a.createElement(r.a,{code:"new WeakSet();\n",lang:"js"}),l.a.createElement("p",null,"\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0cWeakSet \u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6570\u7ec4\u6216\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u5b9e\u9645\u4e0a\uff0c\u4efb\u4f55\u5177\u6709 Iterable \u63a5\u53e3\u7684\u5bf9\u8c61\u90fd\u53ef\u4ee5\u4f5c\u4e3a WeakSet \u7684\u53c2\u6570\u3002\u8be5\u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u90fd\u4f1a\u81ea\u52a8\u6210\u4e3a WeakSet \u5b9e\u4f8b\u5bf9\u8c61\u7684\u6210\u5458\u3002"),l.a.createElement("h2",{id:"\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5"),l.a.createElement("h3",{id:"\u5c5e\u6027"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u5c5e\u6027"},l.a.createElement("span",{className:"icon icon-link"})),"\u5c5e\u6027"),l.a.createElement("p",null,"WeakSet \u6ca1\u6709 ",l.a.createElement("code",null,"size")," \u5c5e\u6027\uff0c\u6ca1\u6709\u529e\u6cd5\u904d\u5386\u5176\u6210\u5458\u3002"),l.a.createElement("p",null,"WeakSet \u4e0d\u80fd\u904d\u5386\uff0c\u56e0\u4e3a\u6210\u5458\u90fd\u662f\u5f31\u4f5c\u7528\uff0c\u968f\u65f6\u53ef\u80fd\u6d88\u5931\uff0c\u904d\u5386\u673a\u5236\u65e0\u6cd5\u4fdd\u8bc1\u6210\u5458\u5b58\u5728\uff0c\u5f88\u53ef\u80fd\u521a\u521a\u904d\u5386\u7ed3\u675f\uff0c\u6210\u5458\u5c31\u53d6\u4e0d\u5230\u4e86\u3002WeakSet \u7684\u4e00\u4e2a\u7528\u5904\u662f\u50a8\u5b58 DOM \u8282\u70b9\uff0c\u800c\u4e0d\u7528\u62c5\u5fc3\u8fd9\u4e9b\u8282\u70b9\u4ece\u6587\u6863\u79fb\u9664\u65f6\u5f15\u53d1\u5185\u5b58\u6cc4\u6f0f\u3002"),l.a.createElement("h3",{id:"\u65b9\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u65b9\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u65b9\u6cd5"),l.a.createElement("th",null,"\u63cf\u8ff0"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("code",null,"WeakSet.prototype.add(value)")),l.a.createElement("td",null,"\u5411 WeakSet \u5b9e\u4f8b\u6dfb\u52a0\u4e00\u4e2a\u65b0\u6210\u5458\u3002")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("code",null,"WeakSet.prototype.delete(value)")),l.a.createElement("td",null,"\u6e05\u9664 WeakSet \u5b9e\u4f8b\u7684\u6307\u5b9a\u6b64\u6210\u5458\u3002")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("code",null,"WeakSet.prototype.has(value)")),l.a.createElement("td",null,"\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67d0\u4e2a\u503c\u662f\u5426\u5728 WeakSet \u5b9e\u4f8b\u4e2d\u3002")))),l.a.createElement("h2",{id:"\u793a\u4f8b"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u793a\u4f8b"},l.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b"),l.a.createElement(r.a,{code:"const a = [\n  [1, 2],\n  [3, 4],\n];\nconst ws = new WeakSet(a);\n// WeakSet {[1, 2], [3, 4]}\n",lang:"js"}),l.a.createElement("p",null,"\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c",l.a.createElement("code",null,"a")," \u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5b83\u6709\u4e24\u4e2a\u6210\u5458\uff0c\u4e5f\u90fd\u662f\u6570\u7ec4\u3002\u5c06 ",l.a.createElement("code",null,"a")," \u4f5c\u4e3a WeakSet \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\uff0c",l.a.createElement("code",null,"a")),l.a.createElement("p",null,"\u7684\u6210\u5458\u4f1a\u81ea\u52a8\u6210\u4e3a WeakSet \u7684\u6210\u5458\u3002"),l.a.createElement("p",null,"\u6ce8\u610f\uff1a\u6210\u4e3a WeakSet \u7684\u6210\u5458\u7684\u662f ",l.a.createElement("code",null,"a")," \u6570\u7ec4\u7684\u6210\u5458\uff0c\u800c\u4e0d\u662f ",l.a.createElement("code",null,"a")," \u6570\u7ec4\u672c\u8eab\u3002\u8fd9\u610f\u5473\u7740\uff0c\u6570\u7ec4\u7684\u6210\u5458\u53ea\u80fd\u662f\u5bf9\u8c61\u3002"),l.a.createElement(r.a,{code:"// Wrong\nconst b = [3, 4];\nconst ws = new WeakSet(b);\n// Uncaught TypeError: Invalid value used in weak set(...)\n// \u6570\u7ec4b\u7684\u6210\u5458\u4e0d\u662f\u5bf9\u8c61\uff0c\u7389\u5973\u7960\u52a0\u5165 WeakSet \u5c31\u4f1a\u62a5\u9519\n",lang:"js"})))}}}]);