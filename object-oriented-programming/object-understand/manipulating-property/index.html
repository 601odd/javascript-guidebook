<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.b538b811.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.3
    </script>
    <title>&#x5C5E;&#x6027;&#x64CD;&#x4F5C;</title>
  
<script>
      window.g_useSSR = true;
      window.g_initialProps = {};

    </script>
    </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/javascript-guidebook//basic-concept">基本语法</a><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a><a href="/javascript-guidebook//core-modules">核心模块</a><a aria-current="page" class="active" href="/javascript-guidebook//object-oriented-programming">OOP</a><a href="/javascript-guidebook//browser-object-model">BOM</a><a href="/javascript-guidebook//document-object-model">DOM</a><a href="/javascript-guidebook//html5-scripting-programming">HTML5</a><a href="/javascript-guidebook//computer-networks">计算机网络</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a href="/javascript-guidebook//document-object-model">DOM</a></li><li><a href="/javascript-guidebook//html5-scripting-programming">HTML5</a></li><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/javascript-guidebook//object-oriented-programming">面向对象编程</a><ul><li><a href="/javascript-guidebook//object-oriented-programming"><span>目录</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-oriented-programming"><span>简介</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//object-oriented-programming/object-understand">理解对象</a><ul><li><a href="/javascript-guidebook//object-oriented-programming/object-understand/the-object-type"><span>对象类型</span></a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property"><span>属性操作</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-understand/attributes-object"><span>对象属性描述符</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-understand/the-object-status"><span>对象状态</span></a></li></ul></li><li><a href="/javascript-guidebook//object-oriented-programming/object-creation">创建对象</a><ul><li><a href="/javascript-guidebook//object-oriented-programming/object-creation/the-factory-pattern"><span>工厂模式</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-creation/the-constructor-pattern"><span>构造函数模式</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-creation/the-prototype-pattern"><span>原型模式</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-creation/combination-constructor-and-prototype-pattern"><span>组合使用构造函数模式和原型模式</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-creation/dynamic-prototype-pattern"><span>动态原型模式</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-creation/parastic-constructor-pattern"><span>寄生构造函数模式</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/object-creation/durable-constructor-pattern"><span>稳妥构造函数模式</span></a></li></ul></li><li><a href="/javascript-guidebook//object-oriented-programming/inheritance">继承</a><ul><li><a href="/javascript-guidebook//object-oriented-programming/inheritance/prototypal-inheritance"><span>原型式继承</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/inheritance/prototype-chain"><span>原型链</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/inheritance/constructor-stealing"><span>借用构造函数</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/inheritance/combination-inheritance"><span>组合继承</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/inheritance/parasitic-inheritance"><span>寄生式继承</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/inheritance/parasitic-combination-inheritance"><span>寄生组合式继承</span></a></li></ul></li><li><a href="/javascript-guidebook//object-oriented-programming/class-definitions">类</a><ul><li><a href="/javascript-guidebook//object-oriented-programming/class-definitions/class-basic"><span>类的基本语法</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/class-definitions/class-extends"><span>类的继承</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/class-definitions/class-private-member"><span>私有成员</span></a></li><li><a href="/javascript-guidebook//object-oriented-programming/class-definitions/class-static-member"><span>静态成员</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="属性查询" data-depth="2" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#属性查询"><span>属性查询</span></a></li><li title="点运算符" data-depth="3" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#点运算符"><span>点运算符</span></a></li><li title="方括号运算符" data-depth="3" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#方括号运算符"><span>方括号运算符</span></a></li><li title="属性设置" data-depth="2" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#属性设置"><span>属性设置</span></a></li><li title="赋值检测" data-depth="3" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#赋值检测"><span>赋值检测</span></a></li><li title="原始类型" data-depth="3" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#原始类型"><span>原始类型</span></a></li><li title="属性删除" data-depth="2" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#属性删除"><span>属性删除</span></a></li><li title="属性继承" data-depth="2" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#属性继承"><span>属性继承</span></a></li><li title="判断方法" data-depth="3" class=""><a href="/javascript-guidebook//object-oriented-programming/object-understand/manipulating-property#判断方法"><span>判断方法</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="属性操作"><a aria-hidden="true" href="#属性操作"><span class="icon icon-link"></span></a>属性操作</h1><p>📖 <strong>快速目录</strong></p><ul><li><a href="#%E5%B1%9E%E6%80%A7%E6%9F%A5%E8%AF%A2">属性查询</a></li><li><a href="#%E5%B1%9E%E6%80%A7%E8%AE%BE%E7%BD%AE">属性设置</a></li><li><a href="#%E5%B1%9E%E6%80%A7%E5%88%A0%E9%99%A4">属性删除</a></li><li><a href="#%E5%B1%9E%E6%80%A7%E7%BB%A7%E6%89%BF">属性继承</a></li></ul><h2 id="属性查询"><a aria-hidden="true" href="#属性查询"><span class="icon icon-link"></span></a>属性查询</h2><p>属性查询在表达式层面也成为 <a href="/javascript-guidebook//basic-concept/expressions/primary-expression/property-accessors">属性访问器</a>。</p><p>属性查询一般有两种方法：</p><ul><li><a href="#%E7%82%B9%E8%BF%90%E7%AE%97%E7%AC%A6">点运算符</a></li><li><a href="#%E6%96%B9%E6%8B%AC%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6">方括号运算符</a></li></ul><p>键名可以是中文，因为中文相当于字符，与英文字符同样对待，因此可以写成 <code>person.白</code> 或 <code>person[&#x27;白&#x27;]</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const person = {
    白 : 1
}
console.log(person.白);
// 1
console.log(person[&#x27;白&#x27;]);
// 1
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> person </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    白 </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">person</span><span class="token punctuation">.</span><span class="token property-access">白</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">person</span><span class="token punctuation">[</span><span class="token string">&#x27;白&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="点运算符"><a aria-hidden="true" href="#点运算符"><span class="icon icon-link"></span></a>点运算符</h3><p>点运算符是很多面向对象语句的通用写法，由于其比较简单，所以较方括号运算符相比，更常用。</p><p>由于 JavaScript 是弱类型语言，在任何对象中都可以创建任意数量的属性。但当通过点运算符 <code>. </code> 访问对象的属性时，属性名用一个标识符来表示，标识符要符合 <a href="/javascript-guidebook//basic-concept/lexical-grammar/lexical-grammar.html#%E6%A0%87%E8%AF%86%E7%AC%A6">变量命名规则</a>。标识符必须直接出现在 JavaScript 程序中，它们不是数据类型，因此程序无法修改它们。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const foo = {
    a: 1,
    1: 2
};

console.log(foo.a);
// 1

// 由于变量不可以以数字开头，所以o.1报错
console.log(o.1);
// Uncaught SyntaxError: missing ) after argument list
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    a</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token number">1</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">foo</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 由于变量不可以以数字开头，所以o.1报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">o</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Uncaught SyntaxError: missing ) after argument list</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="方括号运算符"><a aria-hidden="true" href="#方括号运算符"><span class="icon icon-link"></span></a>方括号运算符</h3><p>当通过方括号运算符 <code>[]</code> 来访问对象的属性时，属性名通过字符串来表示。字符串是 JavaScript 的数据类型，在程序运行中可以修改和创建它们。</p><p>使用方括号运算符有两个优点：</p><ul><li>可以通过变量来访问属性</li><li>属性名称可以为 JavaScript 无效标识符</li></ul><p>方括号中的值若是非字符串类型会使用 <code>String()</code> 隐式转换成字符串再输出。如果是字符串类型，若有引号则原值输出，否则会被识别为变量，若变量未定义，则报错。</p><h4 id="可计算属性名"><a aria-hidden="true" href="#可计算属性名"><span class="icon icon-link"></span></a>可计算属性名</h4><p>在方括号运算符内部可以使用表达式。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const a = 1;
const foo = {
    3: &#x27;abc&#x27;
};

foo[a + 2]; // &#x27;abc&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token number">3</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;abc&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">[</span><span class="token plain">a </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;abc&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>但如果要在对象字面量内部对属性名使用表达式，则需要使用 ES6 的可计算属性名。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const a = 1;

const foo = {
    a + 3: &#x27;abc&#x27;
};
// Uncaught SyntaxError: Unexpected token +
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    a </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;abc&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Uncaught SyntaxError: Unexpected token +</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>ES6 增加了可计算属性名，可以在文字中使用 <code>[]</code> 包裹一个表达式来当作属性名。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const a = 1;

const foo = {
    [a + 3]: &#x27;bar&#x27;
};

foo[4];
// &#x27;bar&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token plain">a </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;bar&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;bar&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="属性查询错误"><a aria-hidden="true" href="#属性查询错误"><span class="icon icon-link"></span></a>属性查询错误</h4><p>查询一个不存在的属性不会报错，而是返回 <code>undefined</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const foo = {};

console.log(foo.a);
// undefined
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">foo</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>如果对象不存在，试图查询这个不存在的对象的属性会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="console.log(foo.a);
// Uncaught ReferenceError: person is not defined
" data-status="copy"></button><div class="token-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">foo</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Uncaught ReferenceError: person is not defined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>可以利用这一点，来检查一个全局变量是否被声明。</p><p>检查变量是否被声明</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="if (a) {...};
// Uncaught ReferenceError: a is not defined
" data-status="copy"></button><div class="token-line"><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Uncaught ReferenceError: a is not defined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>所有全局变量都是 Window 对象的属性。<code>window.a</code> 的含义就是读取 Window 对象的 <code>a</code> 属性，如果该属性不存在，就返回 <code>undefined</code>，并不会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="if (window.a) {...}
" data-status="copy"></button><div class="token-line"><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="属性设置"><a aria-hidden="true" href="#属性设置"><span class="icon icon-link"></span></a>属性设置</h2><p>属性设置又称为属性赋值，与属性查询相同，具有<strong>点运算符</strong>和<strong>方括号运算符</strong>这两种方法。</p><p>🌰 <strong>标准示例：点运算符</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="foo.p = &#x27;bar&#x27;;
" data-status="copy"></button><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">.</span><span class="token property-access">p</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;bar&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>🌰 <strong>标准示例：方括号运算符</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="foo[&#x27;p&#x27;] = &#x27;bar&#x27;;
" data-status="copy"></button><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">[</span><span class="token string">&#x27;p&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;bar&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="赋值检测"><a aria-hidden="true" href="#赋值检测"><span class="icon icon-link"></span></a>赋值检测</h3><p>在给对象设置属性之前，一般要先检测对象是否存在。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// Bad
const len = undefined;
if(book){
    if(book.subtitle){
        len = book.subtitle.length;
    }
}

// Good
const len = book &amp;&amp; book.subtitle &amp;&amp; book.subtitle.length;
" data-status="copy"></button><div class="token-line"><span class="token comment">// Bad</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> len </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token plain">book</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token plain">book</span><span class="token punctuation">.</span><span class="token property-access">subtitle</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        len </span><span class="token operator">=</span><span class="token plain"> book</span><span class="token punctuation">.</span><span class="token property-access">subtitle</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Good</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> len </span><span class="token operator">=</span><span class="token plain"> book </span><span class="token operator">&amp;&amp;</span><span class="token plain"> book</span><span class="token punctuation">.</span><span class="token property-access">subtitle</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> book</span><span class="token punctuation">.</span><span class="token property-access">subtitle</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="原始类型"><a aria-hidden="true" href="#原始类型"><span class="icon icon-link"></span></a>原始类型</h3><p>由于 String、Number 和 Boolean 等数据类型的值有对应的包装对象，所以给它们设置属性不会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&#x27;foo&#x27;.a = 1;    // 1

(1).a = 1;      // 1

true.a = 1;     // 1
" data-status="copy"></button><div class="token-line"><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain">    </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain">      </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token boolean">true</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain">     </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>而 <code>null</code> 和 <code>undefined</code> 不是对象，给它们设置属性会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="null.a = 1;         // Uncaught TypeError: Cannot set property &#x27;a&#x27; of null

undefined.a = 1;    // Uncaught TypeError: Cannot set property &#x27;a&#x27; of undefined
" data-status="copy"></button><div class="token-line"><span class="token keyword null nil">null</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain">         </span><span class="token comment">// Uncaught TypeError: Cannot set property &#x27;a&#x27; of null</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword nil">undefined</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain">    </span><span class="token comment">// Uncaught TypeError: Cannot set property &#x27;a&#x27; of undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="属性删除"><a aria-hidden="true" href="#属性删除"><span class="icon icon-link"></span></a>属性删除</h2><p>使用 <a href="/javascript-guidebook//basic-concept/expressions/unary-operators/delete">delete</a> 运算符可以删除对象属性（包括数组元素）。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const foo = { a : 1 };

console.log( foo.a );           // 1
console.log( &#x27;a&#x27; in foo );      // true

// delete object attribute
console.log( delete foo.a );    // true

console.log( foo.a );           // undefined
console.log( &#x27;a&#x27; in foo );      // false
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> a </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain"> foo</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">           </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain"> </span><span class="token string">&#x27;a&#x27;</span><span class="token plain"> </span><span class="token keyword">in</span><span class="token plain"> foo </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">      </span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// delete object attribute</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain"> </span><span class="token keyword">delete</span><span class="token plain"> foo</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">    </span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain"> foo</span><span class="token punctuation">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">           </span><span class="token comment">// undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain"> </span><span class="token string">&#x27;a&#x27;</span><span class="token plain"> </span><span class="token keyword">in</span><span class="token plain"> foo </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">      </span><span class="token comment">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>给对象属性设置 <code>null</code> 或 <code>undefined</code>，并没有删除该属性</li><li>使用 <code>delete</code> 删除数组元素时，不会改变数组长度</li><li><code>delete</code> 运算符只能删除自有属性，不能删除继承属性<ul><li>要删除继承属性必须从定义这个属性的原型对象上删除它，而且这会影响到所有继承自这个原型的对象</li></ul></li><li><code>delete</code> 操作符的返回值是个布尔值 <code>true</code> 或 <code>false</code><ul><li>当使用 <code>delete</code> 操作符删除对象属性或数组元素删除成功时，返回 <code>true</code></li><li>当使用 <code>delete</code> 操作符删除不存在的属性或非左值时，返回 <code>true</code></li><li>当使用 <code>delete</code> 操作符删除变量时，返回 <code>false</code>，严格模式下会抛出 ReferenceError 错误</li><li>当使用 <code>delete</code> 操作符删除不可配置的属性时，返回 <code>false</code>，严格模式下会抛出 TypeError 错误</li></ul></li></ul><h2 id="属性继承"><a aria-hidden="true" href="#属性继承"><span class="icon icon-link"></span></a>属性继承</h2><p>每个 Javascript 对象都和另一个对象相关联。&quot;另一个对象&quot;就是我们熟知的原型，每一个对象都从原型继承属性。</p><p>所有通过对象直接量创建的对象都具有同一个原型对象，并可以通过 <code>Object.prototype</code> 获得对原型对象的引用。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const foo = {};

console.log(foo.__proto__ === Object.prototype);
// true
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">foo</span><span class="token punctuation">.</span><span class="token property-access">__proto__</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p><code>Object.prototype</code> 的原型对象是 <code>null</code>，所以它不继承任何属性。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="console.log(Object.prototype.__proto__ === null);
// true
" data-status="copy"></button><div class="token-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">__proto__</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>对象本身具有的属性叫 <strong>自有属性</strong>（Own Property），从原型对象继承而来的属性叫 <strong>继承属性</strong>。</p><h3 id="判断方法"><a aria-hidden="true" href="#判断方法"><span class="icon icon-link"></span></a>判断方法</h3><ul><li><a href="/javascript-guidebook//basic-concept/expressions/unary-operators/in">in</a>：<code>in</code> 操作符可以判断属性在不在该对象上，但无法区别自有还是继承属性。</li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/iteration-statement/the-for-in-statement">for-in</a>：通过 <code>for-in</code> 循环可以遍历出该对象中所有<strong>可枚举属性</strong>。</li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object-objects/properties-of-the-object-prototype-object/hasOwnProperty">hasOwnProperty</a>：通过 <code>hasOwnProperty()</code> 方法<strong>可以确定该属性是自有属性还是继承属性</strong>。</li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object-objects/properties-of-the-object-constructor/keys">Object.keys</a>：<code>Object.keys()</code> 方法返回所有<strong>可枚举的自有属性</strong>。</li><li><a href="/javascript-guidebook//standard-built-in-objects/fundamental-objects/object-objects/properties-of-the-object-constructor/getOwnPropertyNames">Object.getOwnPropertyNames</a>：<code>Object.getOwnPropertyNames()</code> 方法返回所有自有属性（包括不可枚举的属性）。</li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/object-oriented-programming/object-understand/manipulating-property.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">6/24/2020, 5:12:49 PM</span></div></div></div></div>

    <script src="/javascript-guidebook/umi.24c5d124.js"></script>
    <script src="/javascript-guidebook/docs__object-oriented-programming__object-understand__manipulating-property.md.c8666575.async.js"></script>
  </body>
</html>
