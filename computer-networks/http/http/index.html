<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>HTTP</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/javascript-guidebook//basic-concept">基本语法</a><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a><a href="/javascript-guidebook//core-modules">核心模块</a><a href="/javascript-guidebook//object-oriented-programming">OOP</a><a href="/javascript-guidebook//browser-object-model">BOM</a><a href="/javascript-guidebook//document-object-model">DOM</a><a aria-current="page" class="active" href="/javascript-guidebook//computer-networks">计算机网络</a><a href="/javascript-guidebook//design-patterns">设计模式</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a href="/javascript-guidebook//document-object-model">DOM</a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a href="/javascript-guidebook//design-patterns">设计模式</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a href="/javascript-guidebook//computer-networks/computer-network-architecture">计算机网络体系</a><ul><li><a href="/javascript-guidebook//computer-networks/computer-network-architecture/computer-networks"><span>计算机网络体系</span></a></li><li><a href="/javascript-guidebook//computer-networks/computer-network-architecture/transport-layer-protocol"><span>传输层协议</span></a></li><li><a href="/javascript-guidebook//computer-networks/computer-network-architecture/network-layer-and-data-link-layer-protocol"><span>网络层与数据链路层协议</span></a></li><li><a href="/javascript-guidebook//computer-networks/computer-network-architecture/dns"><span>DNS 域名解析系统</span></a></li><li><a href="/javascript-guidebook//computer-networks/computer-network-architecture/cdn"><span>CDN 内容分发网络</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//computer-networks/http">HTTP</a><ul><li><a aria-current="page" class="active" href="/javascript-guidebook//computer-networks/http/http"><span>HTTP</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/https"><span>HTTPS</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/headers"><span>HTTP 首部字段</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/request-methods"><span>HTTP 请求方法</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/status-code"><span>HTTP 响应状态码</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/cors"><span>HTTP CORS 跨域资源共享</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/content-security-policy"><span>HTTP CSP 内容安全策略</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/authentication"><span>HTTP 身份校验</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/http2"><span>HTTP2</span></a></li><li><a href="/javascript-guidebook//computer-networks/http/http3"><span>HTTP3</span></a></li></ul></li><li><a href="/javascript-guidebook//computer-networks/web-security">Web 安全</a><ul><li><a href="/javascript-guidebook//computer-networks/web-security/same-origin-policy"><span>同源策略</span></a></li><li><a href="/javascript-guidebook//computer-networks/web-security/xss"><span>XSS 跨站脚本攻击</span></a></li><li><a href="/javascript-guidebook//computer-networks/web-security/csrf"><span>CSRF 跨站点请求伪造攻击</span></a></li><li><a href="/javascript-guidebook//computer-networks/web-security/ddos"><span>DDoS 攻击</span></a></li><li><a href="/javascript-guidebook//computer-networks/web-security/sql-injection"><span>SQL 注入攻击</span></a></li><li><a href="/javascript-guidebook//computer-networks/web-security/hijacking"><span>流量劫持</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="HTTP 协议" data-depth="2" class=""><a href="/javascript-guidebook//computer-networks/http/http#http-协议"><span>HTTP 协议</span></a></li><li title="概述" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#概述"><span>概述</span></a></li><li title="特点" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#特点"><span>特点</span></a></li><li title="URL 详解" data-depth="2" class=""><a href="/javascript-guidebook//computer-networks/http/http#url-详解"><span>URL 详解</span></a></li><li title="简介" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#简介"><span>简介</span></a></li><li title="基本组成" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#基本组成"><span>基本组成</span></a></li><li title="HTTP 请求" data-depth="2" class=""><a href="/javascript-guidebook//computer-networks/http/http#http-请求"><span>HTTP 请求</span></a></li><li title="请求行" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#请求行"><span>请求行</span></a></li><li title="请求头" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#请求头"><span>请求头</span></a></li><li title="请求体" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#请求体"><span>请求体</span></a></li><li title="HTTP 响应" data-depth="2" class=""><a href="/javascript-guidebook//computer-networks/http/http#http-响应"><span>HTTP 响应</span></a></li><li title="响应行" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#响应行"><span>响应行</span></a></li><li title="响应头" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#响应头"><span>响应头</span></a></li><li title="响应体" data-depth="3" class=""><a href="/javascript-guidebook//computer-networks/http/http#响应体"><span>响应体</span></a></li><li title="长连接" data-depth="2" class=""><a href="/javascript-guidebook//computer-networks/http/http#长连接"><span>长连接</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="http-超文本传输协议"><a aria-hidden="true" href="#http-超文本传输协议"><span class="icon icon-link"></span></a>HTTP 超文本传输协议</h1><p>📖 <strong>快速目录：</strong></p><ul><li><a href="#HTTP%E5%8D%8F%E8%AE%AE">HTTP 协议</a><ul><li><a href="#%E6%A6%82%E8%BF%B0">概述</a></li><li><a href="#%E7%89%B9%E7%82%B9">特点</a></li></ul></li><li><a href="#URL%E8%AF%A6%E8%A7%A3">URL 详解</a><ul><li><a href="#%E7%AE%80%E4%BB%8B">简介</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90">基本组成</a></li></ul></li><li><a href="#HTTP%E8%AF%B7%E6%B1%82">HTTP 请求</a><ul><li><a href="#%E8%AF%B7%E6%B1%82%E8%A1%8C">请求行</a></li><li><a href="#%E8%AF%B7%E6%B1%82%E5%A4%B4">请求头</a></li><li><a href="#%E8%AF%B7%E6%B1%82%E4%BD%93">请求体</a></li></ul></li><li><a href="#HTTP%E5%93%8D%E5%BA%94">HTTP 响应</a><ul><li><a href="#%E5%93%8D%E5%BA%94%E8%A1%8C">响应行</a></li><li><a href="#%E5%93%8D%E5%BA%94%E5%A4%B4">响应头</a></li><li><a href="#%E5%93%8D%E5%BA%94%E4%BD%93">响应体</a></li></ul></li></ul><h2 id="http-协议"><a aria-hidden="true" href="#http-协议"><span class="icon icon-link"></span></a>HTTP 协议</h2><h3 id="概述"><a aria-hidden="true" href="#概述"><span class="icon icon-link"></span></a>概述</h3><p>HTTP 全称是  HyperText Transfer Protocal ，即超文本传输协议。</p><p>HTTP 是<strong>应用层协议</strong>，当你上网浏览网页的时候，浏览器和 Web 服务器之间就会通过 HTTP 在 Internet 上进行数据的发送和接收。</p><p>HTTP 是一个基于请求 / 响应模式的、无状态的协议。即我们通常所说的 Request / Response。</p></div><img alt="Webpack执行流程" src="/javascript-guidebook/static/from-url-request-to-render-dom-tree.5b552617.png" width="800"/><div class="markdown"><h3 id="特点"><a aria-hidden="true" href="#特点"><span class="icon icon-link"></span></a>特点</h3><p>HTTP 支持客户端 / 服务器模式。</p><ul><li><strong>简单快速</strong>：客户向服务器请求服务时，只需传送请求方法和路径。由于 HTTP 协议简单，使得 HTTP 服务器的程序规模小，因而通信速度很快。</li><li><strong>灵活</strong>：HTTP 允许传输任意类型的数据对象。正在传输的类型由 Content-Type 加以标记。</li><li><strong>无连接</strong>：无连接的含义是限制每次链接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开链接，采用这种方式可以节省传输时间。</li><li><strong>无状态</strong>：HTTP 协议是无状态协议。无状态是指协议对于事物处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能会导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就比较快。</li></ul><h2 id="url-详解"><a aria-hidden="true" href="#url-详解"><span class="icon icon-link"></span></a>URL 详解</h2><h3 id="简介"><a aria-hidden="true" href="#简介"><span class="icon icon-link"></span></a>简介</h3><p>URL（Uniform Resource Locator）是<strong>统一资源定位符</strong>的简称，有时候也被俗称为网页地址（网址），如同是网络上的门牌，是因特网上标准的资源的地址。</p><blockquote><p>URI（Uniform Resource Identifier）统一资源标志符</p><p>URN（Uniform Resource Name）永久统一资源定位符</p></blockquote><h3 id="基本组成"><a aria-hidden="true" href="#基本组成"><span class="icon icon-link"></span></a>基本组成</h3><p>通用的格式：<code>scheme://host[:port#]/path/…/[?query-string][#anchor]</code></p><table><thead><tr><th>名称</th><th>功能</th></tr></thead><tbody><tr><td>scheme</td><td>访问服务器以获取资源时要使用哪种<strong>协议</strong>（例如 http、https 和 FTP 等）</td></tr><tr><td>host</td><td>HTTP 服务器的 IP 地址或<strong>域名</strong></td></tr><tr><td>port#</td><td>HTTP 服务器的默认端口为 80，这种情况下端口可以省略，如果使用了别的端口，必须指明</td></tr><tr><td>path</td><td>访问资源的<strong>路径</strong></td></tr><tr><td>query-string</td><td>发给 HTTP 服务器的数据（<strong>查询参数</strong>）</td></tr><tr><td>anchor</td><td><strong>锚点</strong></td></tr></tbody></table><details><summary>🌰例子</summary><p><code>https://www.baidu.com/m/test/search?keyword=hahh&amp;name=true#stuff</code></p><table><thead><tr><th>名称</th><th>对应的字段</th></tr></thead><tbody><tr><td>Shema</td><td><code>http</code></td></tr><tr><td>host</td><td><code>www.baidu.com</code></td></tr><tr><td>path</td><td><code>/m/test/search</code></td></tr><tr><td>Query-string</td><td><code>keyword=hahh&amp;name=true</code></td></tr><tr><td>anchor</td><td><code>stuff</code></td></tr></tbody></table></details><h2 id="http-请求"><a aria-hidden="true" href="#http-请求"><span class="icon icon-link"></span></a>HTTP 请求</h2><p>HTTP 的请求报文分为三个部分：</p><ul><li><strong>请求行</strong><ul><li><strong>请求方法</strong></li><li><strong>请求地址</strong></li><li><strong>协议版本</strong></li></ul></li><li><strong>请求头</strong></li><li><strong>请求体</strong></li></ul><h3 id="请求行"><a aria-hidden="true" href="#请求行"><span class="icon icon-link"></span></a>请求行</h3><p>请求行是请求消息的第一行，由三部分组成：分别是请求方法（GET/POST/DELETE/PUT/HEAD）、请求资源的 URI 路径、HTTP 的版本号。</p><p><strong>请求方法</strong></p><p>HTTP/1.1 协议中共定义了八种方法，以不同的方式操作指定的资源。</p><table><thead><tr><th>方法名</th><th>功能</th></tr></thead><tbody><tr><td>GET</td><td>向指定的资源发出“显示”请求，使用 GET 方法应该只用在读取数据上，而不应该用于产生“副作用”的操作中。</td></tr><tr><td>POST</td><td>指定资源提交数据，请求服务器进行处理（例如提交表单或者上传文件）。数据被包含在请求文本中。这个请求可能会创建新的资源或者修改现有资源，或两者皆有。</td></tr><tr><td>PUT</td><td>向指定资源位置上传其最新内容。</td></tr><tr><td>DELETE</td><td>请求服务器删除 Request-URI 所标识的资源。</td></tr><tr><td>OPTIONS</td><td>使服务器传回该资源支持的所有 HTTP 请求方法。用 <code>*</code> 来代替资源名称，向 Web 服务器发送 OPTIONS 请求，可以测试服务器功能是否正常运作。</td></tr><tr><td>HEAD</td><td>与 GET 方法一样，都是向服务器发出指定资源的请求，只不过服务器将不传回资源的本文部分，它的好处在于，使用这个方法可以在不必传输全部内容的情况下，就可以获取其中 <code>关于该资源的信息</code>（原信息或称元数据）。</td></tr><tr><td>TRACE</td><td>显示服务器收到的请求，主要用于测试或诊断。</td></tr><tr><td>CONNECT</td><td>HTTP/1.1 中预留给能够将连接改为通道方式的代理服务器。通常用于 SSL 加密服务器的链接（经由非加密的 HTTP 代理服务器）。</td></tr></tbody></table><p>其中，最常见的是 GET 和 POST 方法，如果是 RESful 接口的话一般会用到 PUT、DELETE、GET、POST（分别对应增删查改），这里附上一篇有关 REST 的文章  <a href="https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/08.3.md" target="_blank" rel="noopener noreferrer">什么是 REST<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 。</p><p><strong>请求行</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-http"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="GET /index.html HTTP/1.1
" data-status="copy"></button><div class="token-line"><span class="token request-line property">GET</span><span class="token request-line"> /index.html HTTP/1.1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="请求头"><a aria-hidden="true" href="#请求头"><span class="icon icon-link"></span></a>请求头</h3><p>请求头中的信息有和缓存相关的头（Cache-Control，If-Modified-Since）、客户端身份信息（User-Agent）等等。请求头的格式为：<code>键: 值</code>，注意<strong>冒号后面有一个空格</strong>：</p><div class="__dumi-default-code-block"><pre class="prism-code language-http"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="Accept: */*
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
Connection: keep-alive
Content-Length: 21429
Content-Type: application/json
Host: api.github.com
Origin: https://github.com
Referer: https://github.com/
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36
" data-status="copy"></button><div class="token-line"><span class="token header-name keyword">Accept:</span><span class="token plain"> */*</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Accept-Encoding:</span><span class="token plain"> gzip, deflate, br</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Accept-Language:</span><span class="token plain"> zh-CN,zh;q=0.9,en;q=0.8</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Connection:</span><span class="token plain"> keep-alive</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Content-Length:</span><span class="token plain"> 21429</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Content-Type:</span><span class="token plain"> application/json</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Host:</span><span class="token plain"> api.github.com</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Origin:</span><span class="token plain"> https://github.com</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Referer:</span><span class="token plain"> https://github.com/</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">User-Agent:</span><span class="token plain"> Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p><strong>常见的请求 Header</strong></p><table><thead><tr><th>请求头</th><th>作用</th></tr></thead><tbody><tr><td>Accept</td><td>表示浏览器接受的数据类型</td></tr><tr><td>Accept-Encoding</td><td>表示浏览器接受的数据压缩格式</td></tr><tr><td>Host</td><td>表示当前请求访问的目标地址</td></tr><tr><td>Authorization</td><td>表示用户身份认证信息</td></tr><tr><td>User-Agent</td><td>表示浏览器类型</td></tr><tr><td>If-Modified-Since</td><td>表示当前请求资源最近一次更新时间</td></tr><tr><td>If-None-Match</td><td>表示当前请求资源最近一次标识的 ETag 值</td></tr><tr><td>Cookie</td><td>表示浏览器保存的 Cookie 信息</td></tr><tr><td>Referer</td><td>表示标识请求引用自哪个地址</td></tr></tbody></table><h3 id="请求体"><a aria-hidden="true" href="#请求体"><span class="icon icon-link"></span></a>请求体</h3><p>请求体是 POST 请求方式中的请求参数，以 <code>key = value</code> 形式进行存储，多个请求参数之间用 <code>&amp;</code> 连接，如果请求当中请求体，那么在请求头当中的 Content-Length 属性记录的就是该请求体的长度。</p><div class="__dumi-default-code-block"><pre class="prism-code language-http"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="POST hysj.jsp HTTP/1.1
Host: search.cnipr.com
User-Agent: Mozilla/5.0 (Windows;U;Windows NT 6.9;zh-CN;rv:1.9.1.13)Gecko/20100914 Firefox/3.5.13 (.NET CLR 3.5.30729)
Accept: text/html, application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: zh-cn,zh;q=0.5
Accept-Encoding: gzip,deflate
Accept-Charst: GN2312,utf-8;q=0.7,*;q=0.7
Keep-Alive: 300
Connection: keep-alive
Referer: http://search.cnipr.com/cnipr/zljs/hyjs-biaodan-y.jsp
Content-Length: 405

pageNo=0&amp;pageSize=10&amp;orderNum=306735659327926273&amp;customerMobile=15626000000&amp;startTime=2019-02-01%2000:00:00&amp;endTime=2019-02-25%2014:54:20&amp;status=SUCCESS&amp;source=WECHAT_SHOPPING&amp;canteenId=104&amp;refundStatus=REFUNDED&amp;startPayTime=2019-02-01%2000:00:00&amp;endPayTime=2019-02-25%2014:54:47
" data-status="copy"></button><div class="token-line"><span class="token plain">POST hysj.jsp HTTP/1.1</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Host:</span><span class="token plain"> search.cnipr.com</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">User-Agent:</span><span class="token plain"> Mozilla/5.0 (Windows;U;Windows NT 6.9;zh-CN;rv:1.9.1.13)Gecko/20100914 Firefox/3.5.13 (.NET CLR 3.5.30729)</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Accept:</span><span class="token plain"> text/html, application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Accept-Language:</span><span class="token plain"> zh-cn,zh;q=0.5</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Accept-Encoding:</span><span class="token plain"> gzip,deflate</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Accept-Charst:</span><span class="token plain"> GN2312,utf-8;q=0.7,*;q=0.7</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Keep-Alive:</span><span class="token plain"> 300</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Connection:</span><span class="token plain"> keep-alive</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Referer:</span><span class="token plain"> http://search.cnipr.com/cnipr/zljs/hyjs-biaodan-y.jsp</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">Content-Length:</span><span class="token plain"> 405</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">pageNo=0&amp;pageSize=10&amp;orderNum=306735659327926273&amp;customerMobile=15626000000&amp;startTime=2019-02-01%2000:00:00&amp;endTime=2019-02-25%2014:54:20&amp;status=SUCCESS&amp;source=WECHAT_SHOPPING&amp;canteenId=104&amp;refundStatus=REFUNDED&amp;startPayTime=2019-02-01%2000:00:00&amp;endPayTime=2019-02-25%2014:54:47</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p><strong>根据应用场景的不同，HTTP 请求的请求体有三种不同的形式。</strong></p><p>第一种：</p><p>移动开发者常见的，请求体是任意类型的，服务器不会解析请求体，请求体的处理需要自己解析，如 POST、JSON 的时候就是这类。</p><p>第二种：</p><p>第二种和第三种都有固定的格式，是服务器端开发人员最先了解的两种。这里的格式要求就是 URL 中 Query String 的格式要求：多个键值对之间用 <code>&amp;</code> 连接，键与值之间用 <code>=</code> 连接，且只能用 ASCII 字符，非 ASCII 字符需使用 <code>UrlEncode</code> 编码。</p><p>第三种：</p><p>第三种请求体被分成多个部分，<strong>文件上传</strong> 时会被使用，这种格式最先是被用于邮件传输中，每个字段 / 文件都被 boundary（Content-Type 中指定的）分成单独的段，每段以 <code>--</code> 加 boundary 开头，然后是该段的描述头，描述头之后空一行接内容，请求结束的标识为 boundary 后面加 <code>--</code></p><p>区分是否被当成文件的关键是  <code>Content-Disposition</code>  是否包含  <code>filename</code>，因为文件有不同的类型，所以还要使用  <code>Content-Type</code>  指示文件的类型，如果不知道是什么类型取值可以为  <code>application/octet-stream</code>  表示文件是一个二进制的文件，如果不是文件则  <code>Content-Type</code>  可以省略。</p><h2 id="http-响应"><a aria-hidden="true" href="#http-响应"><span class="icon icon-link"></span></a>HTTP 响应</h2><p>HTTP 响应的格式上除状态行（第一行）与请求报文的请求行不一样之外，其他的就格式而言是一样的，但排除状态行和请求行的区别，从 Header 上还是可以区分出 HTTP 请求和 HTTP 响应的区别的，怎么区别就要看前面的 Header。</p><h3 id="响应行"><a aria-hidden="true" href="#响应行"><span class="icon icon-link"></span></a>响应行</h3><p><strong>状态码</strong></p><p>状态码用以表示网页服务器超文本传输协议响应状态的 3 位数字码。<a href="/javascript-guidebook//computer-networks/http/response-status-codes">详细的状态码表</a></p><table><thead><tr><th>状态码</th><th>对应信息</th></tr></thead><tbody><tr><td>1XX</td><td>提示信息—表示请求已接收，继续处理</td></tr><tr><td>2XX</td><td>用于表示请求已被成功接收、理解、接收</td></tr><tr><td>3XX</td><td>用于表示资源（网页等）被永久转移到其它 URL，也就是所谓的重定向</td></tr><tr><td>4XX</td><td>客户端错误—请求有语法错误或者请求无法实现</td></tr><tr><td>5XX</td><td>服务器端错误—服务器未能实现合法的请求</td></tr></tbody></table><h3 id="响应头"><a aria-hidden="true" href="#响应头"><span class="icon icon-link"></span></a>响应头</h3><p>响应头同样可用于传递一些附加信息。</p><div class="__dumi-default-code-block"><pre class="prism-code language-http"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="HTTP/1.0 200 ok
content-type: application/javascript;charset=utf-8
date: Tue, 07 Mar 2017 03:06:14 GMT
sever: Domain Reliability Searver
content-length: 0
x-xss-protection: 1, mode=bloack
x-frame-options: SAMEORIGIN
alt-svc: quic=&quot;:443&quot;;ma=2592000;v=&quot;36,35,34&quot;
" data-status="copy"></button><div class="token-line"><span class="token response-status">HTTP/1.0 </span><span class="token response-status property">200 ok</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">content-type:</span><span class="token plain"> application/javascript;charset=utf-8</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">date:</span><span class="token plain"> Tue, 07 Mar 2017 03:06:14 GMT</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">sever:</span><span class="token plain"> Domain Reliability Searver</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">content-length:</span><span class="token plain"> 0</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">x-xss-protection:</span><span class="token plain"> 1, mode=bloack</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">x-frame-options:</span><span class="token plain"> SAMEORIGIN</span></div><div class="token-line"><span class="token plain"></span><span class="token header-name keyword">alt-svc:</span><span class="token plain"> quic=&quot;:443&quot;;ma=2592000;v=&quot;36,35,34&quot;</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p><strong>常见的响应 Header</strong></p><table><thead><tr><th>名称</th><th>作用</th></tr></thead><tbody><tr><td>Date</td><td>表示当前相应资源发送的服务器日期和时间</td></tr><tr><td>Last-Modified</td><td>表示当前响应资源最后被修改的服务器时间</td></tr><tr><td>Transfer-Encoding</td><td>表示当前响应资源传输实体的编码格式</td></tr><tr><td>Set-Cookie</td><td>表示设置 Cookie 信息</td></tr><tr><td>Location</td><td>在重定向中或者创建新资源时使用</td></tr><tr><td>Server</td><td>表示服务器名称</td></tr></tbody></table><h3 id="响应体"><a aria-hidden="true" href="#响应体"><span class="icon icon-link"></span></a>响应体</h3><p>响应体也就是网页的正文内容，一般在响应头中会用 Content-Length 来明确响应体的长度，便于浏览器接收，对于大数据量的正文信息，也会使用 chunked 的编码方式。</p><h2 id="长连接"><a aria-hidden="true" href="#长连接"><span class="icon icon-link"></span></a>长连接</h2><p><strong>什么是长连接？</strong></p><p>HTTP 请求的时候需要创建 TCP 连接，然后在 TCP 连接上将 HTTP 请求的内容发送并且接收完返回。</p><p>这时一次 HTTP 请求已经结束了，浏览器和服务端就会商量是否需要将该 TCP 连接关闭。</p><ul><li>如果<strong>不关闭</strong>，TCP 连接将一直开启，会有性能等消耗，但是如果接下来还有 HTTP 请求，那么可以在该 TCP 请求上继续发送，那么就不需要经过三次握手重新建立连接，</li><li>而如果直接<strong>关闭</strong> TCP 连接，就代表下次有 HTTP 请求又要重新创建连接，这时候会有网络延迟上的开销，但是好处是 TCP 连接马上关闭，那么就能和客户端减少并发的连接数。</li></ul><p>但实际中，网站并发量较大，如果都重新创建 TCP 连接，创建过程创建次数过多，而实际开销比保持长连接更大。而且长连接能够设置时间的 TimeOut，就是过多少时间这个 TCP 连接没有新请求就会自动关闭。</p><p>HTTP 协议的长连接和短连接，本质上是 TCP 长连接和短连接。</p><hr/><p><strong>参考资料：</strong></p><ul><li><a href="https://fetch.spec.whatwg.org/" target="_blank" rel="noopener noreferrer">Fetch Living Standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><ul><li><a href="https://juejin.im/post/5e76bd516fb9a07cce750746#heading-0" target="_blank" rel="noopener noreferrer">HTTP 灵魂之问，巩固你的 HTTP 知识体系<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/computer-networks/http/http.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/1/2020, 6:43:54 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/javascript-guidebook/umi.js"></script>
    <script src="/javascript-guidebook/docs__computer-networks__http__http.md.js"></script>
  </body>
</html>
