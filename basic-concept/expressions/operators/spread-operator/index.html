<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.3ddb0a84.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.16
    </script>
    <title>扩展运算符</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/javascript-guidebook//basic-concept">基本语法</a><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a><a href="/javascript-guidebook//core-modules">核心模块</a><a href="/javascript-guidebook//object-oriented-programming">OOP</a><a href="/javascript-guidebook//browser-object-model">BOM</a><a href="/javascript-guidebook//document-object-model">DOM</a><a href="/javascript-guidebook//computer-networks">计算机网络</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a href="/javascript-guidebook//document-object-model">DOM</a></li><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//basic-concept/lexical-grammar">词法语法</a></li><li><a href="/javascript-guidebook//basic-concept/data-types">数据类型和值</a><ul><li><a href="/javascript-guidebook//basic-concept/data-types/data-types"><span>数据类型</span></a></li><li><a href="/javascript-guidebook//basic-concept/data-types/type-check"><span>类型检测</span></a></li><li><a href="/javascript-guidebook//basic-concept/data-types/type-conversion"><span>类型转换</span></a></li></ul></li><li><a href="/javascript-guidebook//basic-concept/expressions/expressions">表达式</a><ul><li><a href="/javascript-guidebook//basic-concept/expressions/expressions/literal"><span>字面量</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/expressions/array-initializer"><span>数组初始化表达式</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/expressions/object-initializer"><span>对象初始化表达式</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/expressions/property-accessors"><span>属性访问器</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//basic-concept/expressions/operators">运算符</a><ul><li><a href="/javascript-guidebook//basic-concept/expressions/operators/in"><span>in</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/instanceof"><span>instanceof</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/delete"><span>delete</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/typeof"><span>typeof</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/void"><span>void</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/string-operator"><span>字符串运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/arithmetic-operators"><span>算术运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/update-expressions"><span>更新表达式</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/assignment-operators"><span>赋值运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/bitwise-operators"><span>位运算移位运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/comma-operator"><span>逗号运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/comparation-operators"><span>比较运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/conditional-operator"><span>条件运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/logical-operators"><span>逻辑运算符</span></a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator"><span>扩展运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/the-grouping-operator"><span>分组表达式</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment"><span>解构赋值</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/operators-precedence"><span>运算符优先级</span></a></li></ul></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations">语句和声明</a><ul><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/block"><span>块语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/declarations-and-the-variable-statement"><span>变量声明</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-if-statement"><span>if 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-continue-statement"><span>continue 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-break-statement"><span>break 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-return-statement"><span>return 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-switch-statement"><span>switch 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/labelled-statements"><span>label 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-throw-statement"><span>throw 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-try-statement"><span>try-catch 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-do-while-statement"><span>do...while 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-while-statement"><span>while 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-for-statement"><span>for 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-for-in-statement"><span>for...in 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-for-of-statement"><span>for...of 语句</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="语法" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator#语法"><span>语法</span></a></li><li title="应用" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator#应用"><span>应用</span></a></li><li title="函数中的应用" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator#函数中的应用"><span>函数中的应用</span></a></li><li title="数组中的应用" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator#数组中的应用"><span>数组中的应用</span></a></li><li title="字符串中的应用" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator#字符串中的应用"><span>字符串中的应用</span></a></li><li title="实现 Iterator 接口的对象" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator#实现-iterator-接口的对象"><span>实现 Iterator 接口的对象</span></a></li><li title="Map 和 Set 结构、Generator 函数" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator#map-和-set-结构、generator-函数"><span>Map 和 Set 结构、Generator 函数</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="扩展运算符"><a aria-hidden="true" href="#扩展运算符"><span class="icon icon-link"></span></a>扩展运算符</h1><p>扩展运算符允许一个表达式在期望多个参数（用于函数调用）或多个元素（用于数组字面量）或多个变量（用于解构赋值）的位置扩展。</p><h2 id="语法"><a aria-hidden="true" href="#语法"><span class="icon icon-link"></span></a>语法</h2><ul><li>函数调用</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-Javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="myFunction(...iterableObj);
" data-status="copy"></button><div class="token-line"><span class="token plain">myFunction(...iterableObj);</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>数组字面量或字符串</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="[...iterableObj, &#x27;4&#x27;, &#x27;five&#x27;, 6];
" data-status="copy"></button><div class="token-line"><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">iterableObj</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;4&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;five&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>对象字面量（ECMAScript 2018 新增内容）</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let iterableObj = { ...obj };
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> iterableObj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">obj </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="应用"><a aria-hidden="true" href="#应用"><span class="icon icon-link"></span></a>应用</h2><h3 id="函数中的应用"><a aria-hidden="true" href="#函数中的应用"><span class="icon icon-link"></span></a>函数中的应用</h3><h4 id="替代数组的-apply-方法"><a aria-hidden="true" href="#替代数组的-apply-方法"><span class="icon icon-link"></span></a>替代数组的 <code>apply</code> 方法</h4><p>当我们的函数有多个变量的时候（特别是当我们不知道变量的数量的时候），有时候会通过将变量保存在数组中，并通过 <code>apply</code> 来执行函数，有了扩展运算符后则有了更好的方式（毕竟使用 <code>apply</code> 需要手动指定 <code>this</code> ，有时候会不是很方便很准确）。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// ES5
function myFunction(x, y, z) {}
var args = [0, 1, 2];
myFunction.apply(null, args);

// ES6
function myFunction(x, y, z) {}
var args = [0, 1, 2];
myFunction(...args);
" data-status="copy"></button><div class="token-line"><span class="token comment">// ES5</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">,</span><span class="token parameter"> z</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> args </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myFunction</span><span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span><span class="token plain"> args</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES6</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">,</span><span class="token parameter"> z</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> args </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>参数列表中的人和参数都可以使用扩展语法，并且可以多次使用。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function myFunction(v, w, x, y, z) {}
var args = [0, 1];
myFunction(-1, ...args, 2, ...[3]);
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token parameter punctuation">,</span><span class="token parameter"> w</span><span class="token parameter punctuation">,</span><span class="token parameter"> x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">,</span><span class="token parameter"> z</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> args </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="函数的返回值"><a aria-hidden="true" href="#函数的返回值"><span class="icon icon-link"></span></a>函数的返回值</h4><p>JavaScript 的函数只能返回一个值，如果需要返回多个值，只能返回数组或对象。扩展运算符提供了解决这个问题的一个变通方法。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var dateField = readDateFields(database);
var d = new Date(...dateFields);
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> dateField </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">readDateFields</span><span class="token punctuation">(</span><span class="token plain">database</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> d </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">dateFields</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码从数据库取出一行数据，通过扩展运算符，直接将其传入构造函数 Date。</p><h3 id="数组中的应用"><a aria-hidden="true" href="#数组中的应用"><span class="icon icon-link"></span></a>数组中的应用</h3><h4 id="数组的合并"><a aria-hidden="true" href="#数组的合并"><span class="icon icon-link"></span></a>数组的合并</h4><p>扩展运算符提供了数组合并的新写法</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// ES5
[1, 2].concat(more)
// ES6
[1, 2, ...more]

var arr1 = [&#x27;a&#x27;, &#x27;b&#x27;];
var arr2 = [&#x27;c&#x27;];
var arr3 = [&#x27;d&#x27;, &#x27;e&#x27;];

// ES5 的合并数组
arr1.concat(arr2, arr3);
// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]

// ES6 的合并数组
[...arr1, ...arr2, ...arr3]
// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]
" data-status="copy"></button><div class="token-line"><span class="token comment">// ES5</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token plain">more</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES6</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">more</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> arr1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;b&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> arr2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;c&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> arr3 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;d&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;e&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES5 的合并数组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">arr1</span><span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token plain">arr2</span><span class="token punctuation">,</span><span class="token plain"> arr3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES6 的合并数组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">arr1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">arr2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">arr3</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="数组的拷贝"><a aria-hidden="true" href="#数组的拷贝"><span class="icon icon-link"></span></a>数组的拷贝</h4><p>被拷贝数组元素仅限基本数据类型。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let a = [1, 2, 3];
let b = [...a];
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> b </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">a</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="与解构赋值结合"><a aria-hidden="true" href="#与解构赋值结合"><span class="icon icon-link"></span></a>与解构赋值结合</h4><p>扩展运算符可以与解构赋值结合起来，用于生成数组。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// ES5
a = list[0], rest = list.slice(1)
// ES6
[a, ...rest] = list
" data-status="copy"></button><div class="token-line"><span class="token comment">// ES5</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">a </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> rest </span><span class="token operator">=</span><span class="token plain"> list</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES6</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token plain">a</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">rest</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> list</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>下面是另外一些例子</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 数组的分割
const [first, ...rest] = [1, 2, 3, 4, 5];
console.log(first);
// 1
console.log(rest);
// [2, 3, 4, 5]

const [first, ...rest] = [];
console.log(first);
// undefined
console.log(rest);
// []

const [first, ...rest] = [&#x27;foo&#x27;];
console.log(first);
// &#x27;foo&#x27;
console.log(rest);
// []
" data-status="copy"></button><div class="token-line"><span class="token comment">// 数组的分割</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">first</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">rest</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">first</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">rest</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [2, 3, 4, 5]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">first</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">rest</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">first</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">rest</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// []</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">first</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">rest</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">first</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;foo&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">rest</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// []</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>如果将扩展运算符用于数组赋值，则只能将其放在参数的<strong>最后一位</strong>，否则会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const [...butLast, last] = [1, 2, 3, 4, 5]
// 报错

const [first, ...middle, last] = [1, 2, 3, 4, 5];
// 报错
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">butLast</span><span class="token punctuation">,</span><span class="token plain"> last</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">first</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">middle</span><span class="token punctuation">,</span><span class="token plain"> last</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="字符串中的应用"><a aria-hidden="true" href="#字符串中的应用"><span class="icon icon-link"></span></a>字符串中的应用</h3><p>扩展运算符还可以将字符串转为真正的数组。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="[...&#x27;hello&#x27;];
// [&#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]
" data-status="copy"></button><div class="token-line"><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token string">&#x27;hello&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [&#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的写法有一个重要的好处：能够正确识别 32 位的 Unicode 字符。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&#x27;x\uD83D\uDE80y&#x27;.length         // 4
[...&#x27;x\uD83D\uDE80y&#x27;].length    // 3
" data-status="copy"></button><div class="token-line"><span class="token string">&#x27;x\uD83D\uDE80y&#x27;</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain">         </span><span class="token comment">// 4</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token string">&#x27;x\uD83D\uDE80y&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain">    </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>以上代码的第一种写法中，JavaScript 会将 32 位 Unicode 字符识别为 2 个字符，采用扩展运算符就没有这个问题。因此，正确返回字符串长度的函数可以像下面这样写。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function length(str) {
  return [...str].length;
}

length(&#x27;x\uD83D\uDE80y&#x27;); // 3
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">length</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">str</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">length</span><span class="token punctuation">(</span><span class="token string">&#x27;x\uD83D\uDE80y&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>凡事涉及操作 32 位 Unicode 字符的函数都有这个问题。因此，最好都用扩展运算符改写。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let str = &#x27;x\uD83D\uDE80y&#x27;;

str.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;)
// &#x27;y\uDE80\uD83Dx&#x27;

[...str].reverse().join(&#x27;&#x27;)
// &#x27;y\uD83D\uDE80x&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> str </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;x\uD83D\uDE80y&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">str</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;y\uDE80\uD83Dx&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">str</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// &#x27;y\uD83D\uDE80x&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，如果不用扩展运算，字符串的 <code>reverse</code> 操作就不正确。</p><h3 id="实现-iterator-接口的对象"><a aria-hidden="true" href="#实现-iterator-接口的对象"><span class="icon icon-link"></span></a>实现 Iterator 接口的对象</h3><p>任何 Iterator 接口的对象都可以用扩展运算符转为<strong>真正的数组</strong>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var nodeList = document.querySelectorAll(&#x27;div&#x27;);
var array = [...nodeList];
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> nodeList </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> array </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">nodeList</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，<code>querySelectorAll</code> 方法返回的是一个 <code>nodeList</code> 对象。它不是数组，而是一个类似数组的对象。这时，扩展运算符可以将其转为真正的数组，原因在于 <code>NodeList</code> 对象实现了 Iterator。</p><p>对于那些没有部署 Iterator 接口的类似数组的对象，扩展运算符就无法将其转为真正的数组了。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let arrayLike = {
  &#x27;0&#x27;: &#x27;a&#x27;,
  &#x27;1&#x27;: &#x27;b&#x27;,
  &#x27;2&#x27;: &#x27;c&#x27;,
  length: 3,
};

// TypeError: Cannot spread non-iterable object.
let arr = [...arrayLike];
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> arrayLike </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token string">&#x27;0&#x27;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;b&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token string">&#x27;2&#x27;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;c&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  length</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// TypeError: Cannot spread non-iterable object.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">arrayLike</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，<code>arrayLike</code> 是一个类似数组的对象，但是没有部署 Iterator 接口，扩展运算符就会报错。这时，可以改为使用 <code>Array.from</code> 方法将 <code>arrayLike</code> 转为真正的数组。</p><h3 id="map-和-set-结构、generator-函数"><a aria-hidden="true" href="#map-和-set-结构、generator-函数"><span class="icon icon-link"></span></a><code>Map</code> 和 <code>Set</code> 结构、<code>Generator</code> 函数</h3><p>扩展运算符内部调用的是数据结构的 Iterator 接口，因此只要具有 Iterator 接口，因此只要具有 Iterator 接口的对象，都可以使用扩展运算符，如 <code>Map</code> 结构。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let map = new Map([
  [1, &#x27;one&#x27;],
  [2, &#x27;two&#x27;],
  [3, &#x27;three&#x27;],
]);

let arr = [...map.keys()]; // [1, 2, 3]
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> map </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;one&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;two&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;three&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [1, 2, 3]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>Generator 函数运行后会返回一个遍历器对象，因此也可以使用扩展运算符。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var go = function*() {
  yield 1;
  yield 2;
  yield 3;
};

[...go()]; // [1, 2, 3]
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token function-variable function">go</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">yield</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">yield</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">yield</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token method function property-access">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [1, 2, 3]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，变量 <code>go</code> 是一个 Generator 函数，执行后返回的是一个遍历器对象，对这个遍历器对象执行扩展运算符即可将内部遍历得到的值转为一个数组。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var obj = { a: 1, b: 2 };
let arr = [...obj]; // TypeError: Cannot spread non-iterable object
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> a</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> b</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">obj</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// TypeError: Cannot spread non-iterable object</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/basic-concept/expressions/operators/spread-operator.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">8/21/2020, 10:09:37 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/javascript-guidebook/umi.d057d78f.js"></script>
    <script src="/javascript-guidebook/docs__basic-concept__expressions__operators__spread-operator.md.2b85e021.async.js"></script>
  </body>
</html>
