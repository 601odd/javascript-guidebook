<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/javascript-guidebook/umi.css" />
    <script>
      window.routerBase = "/javascript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>解构赋值</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//">JavaScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/javascript-guidebook//basic-concept">基本语法</a><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a><a href="/javascript-guidebook//core-modules">核心模块</a><a href="/javascript-guidebook//object-oriented-programming">OOP</a><a href="/javascript-guidebook//browser-object-model">BOM</a><a href="/javascript-guidebook//document-object-model">DOM</a><a href="/javascript-guidebook//computer-networks">计算机网络</a><a href="/javascript-guidebook//design-patterns">设计模式</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/javascript-guidebook-favicon.png&#x27;)" href="/javascript-guidebook//"></a><h1>JavaScript Guidebook</h1><p>JavaScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//standard-built-in-objects">内置对象</a></li><li><a href="/javascript-guidebook//core-modules">核心模块</a></li><li><a href="/javascript-guidebook//object-oriented-programming">OOP</a></li><li><a href="/javascript-guidebook//browser-object-model">BOM</a></li><li><a href="/javascript-guidebook//document-object-model">DOM</a></li><li><a href="/javascript-guidebook//computer-networks">计算机网络</a></li><li><a href="/javascript-guidebook//design-patterns">设计模式</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/javascript-guidebook//basic-concept">基本语法</a></li><li><a href="/javascript-guidebook//basic-concept/lexical-grammar">词法语法</a></li><li><a href="/javascript-guidebook//basic-concept/data-types">数据类型和值</a><ul><li><a href="/javascript-guidebook//basic-concept/data-types/data-types"><span>数据类型</span></a></li><li><a href="/javascript-guidebook//basic-concept/data-types/type-check"><span>类型检测</span></a></li><li><a href="/javascript-guidebook//basic-concept/data-types/type-conversion"><span>类型转换</span></a></li></ul></li><li><a href="/javascript-guidebook//basic-concept/expressions/expressions">表达式</a><ul><li><a href="/javascript-guidebook//basic-concept/expressions/expressions/literal"><span>字面量</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/expressions/array-initializer"><span>数组初始化表达式</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/expressions/object-initializer"><span>对象初始化表达式</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/expressions/property-accessors"><span>属性访问器</span></a></li></ul></li><li><a aria-current="page" class="active" href="/javascript-guidebook//basic-concept/expressions/operators">运算符</a><ul><li><a href="/javascript-guidebook//basic-concept/expressions/operators/in"><span>in</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/instanceof"><span>instanceof</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/delete"><span>delete</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/typeof"><span>typeof</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/void"><span>void</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/string-operator"><span>字符串运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/arithmetic-operators"><span>算术运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/update-expressions"><span>更新表达式</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/assignment-operators"><span>赋值运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/bitwise-operators"><span>位运算移位运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/comma-operator"><span>逗号运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/comparation-operators"><span>比较运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/conditional-operator"><span>条件运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/logical-operators"><span>逻辑运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/spread-operator"><span>扩展运算符</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/the-grouping-operator"><span>分组表达式</span></a></li><li><a aria-current="page" class="active" href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment"><span>解构赋值</span></a></li><li><a href="/javascript-guidebook//basic-concept/expressions/operators/operators-precedence"><span>运算符优先级</span></a></li></ul></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations">语句和声明</a><ul><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/block"><span>块语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/declarations-and-the-variable-statement"><span>变量声明</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-if-statement"><span>if 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-continue-statement"><span>continue 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-break-statement"><span>break 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-return-statement"><span>return 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-switch-statement"><span>switch 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/labelled-statements"><span>label 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-throw-statement"><span>throw 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-try-statement"><span>try-catch 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-do-while-statement"><span>do...while 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-while-statement"><span>while 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-for-statement"><span>for 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-for-in-statement"><span>for...in 语句</span></a></li><li><a href="/javascript-guidebook//basic-concept/statements-and-declarations/the-for-of-statement"><span>for...of 语句</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="数组的解构赋值" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#数组的解构赋值"><span>数组的解构赋值</span></a></li><li title="基本用法" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#基本用法"><span>基本用法</span></a></li><li title="默认值" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#默认值"><span>默认值</span></a></li><li title="对象的解构赋值" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#对象的解构赋值"><span>对象的解构赋值</span></a></li><li title="字符串的解构赋值" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#字符串的解构赋值"><span>字符串的解构赋值</span></a></li><li title="数值和布尔值的解构赋值" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#数值和布尔值的解构赋值"><span>数值和布尔值的解构赋值</span></a></li><li title="函数参数的解构赋值" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#函数参数的解构赋值"><span>函数参数的解构赋值</span></a></li><li title="圆括号问题" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#圆括号问题"><span>圆括号问题</span></a></li><li title="不能使用圆括号的情况" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#不能使用圆括号的情况"><span>不能使用圆括号的情况</span></a></li><li title="可以使用圆括号的情况" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#可以使用圆括号的情况"><span>可以使用圆括号的情况</span></a></li><li title="用途" data-depth="2" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#用途"><span>用途</span></a></li><li title="交换变量的值" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#交换变量的值"><span>交换变量的值</span></a></li><li title="从函数返回多个值" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#从函数返回多个值"><span>从函数返回多个值</span></a></li><li title="函数参数的定义" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#函数参数的定义"><span>函数参数的定义</span></a></li><li title="提取 JSON 数据" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#提取-json-数据"><span>提取 JSON 数据</span></a></li><li title="函数参数的默认值" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#函数参数的默认值"><span>函数参数的默认值</span></a></li><li title="遍历 Map 结构" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#遍历-map-结构"><span>遍历 Map 结构</span></a></li><li title="加入模块的指定方法" data-depth="3" class=""><a href="/javascript-guidebook//basic-concept/expressions/operators/detructing-assignment#加入模块的指定方法"><span>加入模块的指定方法</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="解构赋值"><a aria-hidden="true" href="#解构赋值"><span class="icon icon-link"></span></a>解构赋值</h1><p><strong>解构赋值</strong>（Destructing）语法是一个 Javascript 表达式，这使得可以将<strong>值从数组</strong>或<strong>属性从对象</strong>提取到不同的变量中。</p><h2 id="数组的解构赋值"><a aria-hidden="true" href="#数组的解构赋值"><span class="icon icon-link"></span></a>数组的解构赋值</h2><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var foo = [];

// 不使用解构
var one = foo[0];
var two = foo[1];
var three = foo[2];

// 使用解构
var [one, two, three] = foo;
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 不使用解构</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> one </span><span class="token operator">=</span><span class="token plain"> foo</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> two </span><span class="token operator">=</span><span class="token plain"> foo</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> three </span><span class="token operator">=</span><span class="token plain"> foo</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 使用解构</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">one</span><span class="token punctuation">,</span><span class="token plain"> two</span><span class="token punctuation">,</span><span class="token plain"> three</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> foo</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面代码表示，可以从数组中提取值，按照对应位置对应变量赋值。</p><p>本质上，这种写法属于 <strong>模式匹配</strong>，只要等号两边的模式相同，左边的变量就会被赋予对应的值。</p><h3 id="基本用法"><a aria-hidden="true" href="#基本用法"><span class="icon icon-link"></span></a>基本用法</h3><p>下面是一些使用嵌套数组进行结构的例子。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let [foo, [[bar], baz]] = [1, [[2], 3]];
foo; // 1
bar; // 2
baz; // 3

let [, , third] = [&#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27;];
third; // &quot;baz&quot;

let [x, y] = [1, 2, 3];
x; // 1
y; // 3

let [head, ...tail] = [1, 2, 3, 4];
head; // 1
tail; // [2, 3, 4]

let [x, y, ...z] = [&#x27;a&#x27;];
x; // &quot;a&quot;
y; // undefined
z; // []
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">foo</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token plain">bar</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> baz</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bar</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">baz</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">,</span><span class="token plain"> third</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;bar&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;baz&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">third</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &quot;baz&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">y</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">head</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">tail</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">head</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">tail</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [2, 3, 4]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">z</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &quot;a&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">y</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">z</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// []</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="解构不成功"><a aria-hidden="true" href="#解构不成功"><span class="icon icon-link"></span></a>解构不成功</h4><p>如果解构不成功，变量的值就等于 <code>undefined</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let [foo] = [];
let [bar, foo] = [1];
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">foo</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">bar</span><span class="token punctuation">,</span><span class="token plain"> foo</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="不完全解构"><a aria-hidden="true" href="#不完全解构"><span class="icon icon-link"></span></a>不完全解构</h4><p>即等号左边的模式只匹配一部分的等号右边的数组。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let [x, y] = [1, 2, 3];
x; // 1
y; // 2

let [a, [b], d] = [1, [2, 3], 4];
a; // 1
b; // 2
d; // 4
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">y</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">a</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">b</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> d</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">a</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">b</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">d</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 4</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>如果等号右边不是数组（或者严格来说不是可遍历的结构），那么将会报错</li></ul><h3 id="默认值"><a aria-hidden="true" href="#默认值"><span class="icon icon-link"></span></a>默认值</h3><p>解构赋值允许指定默认值。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let [foo = true] = [];
foo; // true

let [x, y = &#x27;b&#x27;] = [&#x27;a&#x27;]; // x = &#x27;a&#x27;, y = &#x27;b&#x27;
let [x, y = &#x27;b&#x27;] = [&#x27;a&#x27;, undefined]; // x = &#x27;a&#x27;, y = &#x27;b&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">foo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;b&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// x = &#x27;a&#x27;, y = &#x27;b&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;b&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// x = &#x27;a&#x27;, y = &#x27;b&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>ES6 內部使用严格相等运算符（<code>===</code>）判断一个位置是否有值。所以，如果一个数组成员不严格等于 <code>undefined</code> ，默认值是不会生效的。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let [x = 1] = [undefined];
x; // 1

let [x = 1] = [null];
x; // null
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token keyword nil">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token keyword null nil">null</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// null</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，如果一个数组成员是 <code>null</code> ，默认值就不会生效，因为 <code>null</code> 不严格等于 <code>undefined</code>。</p><p>如果默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到时才会求值。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function f() {
  console.log(&#x27;aaa&#x27;);
}
let [x = f()] = [1];
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，因为 <code>x</code> 能取到值，所以函数 <code>f</code> 根本不会执行。上面的代码其实等价于下面的代码</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let x;
if ([1][0] === undefined) {
  x = f();
} else {
  x = [1][0];
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> x</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>默认值可以引用解构赋值的其他变量，但该变量必须已经声明。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let [x = 1, y = x] = []; // x = 1, y = 1
let [x = 1, y = x] = [2]; // x = 2, y = 2
let [x = 1, y = x] = [1, 2]; // x = 1, y = 2
let [x = y, y = 1] = []; // ReferenceError
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// x = 1, y = 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// x = 2, y = 2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> x</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// x = 1, y = 2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> y</span><span class="token punctuation">,</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// ReferenceError</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面最后一个表达式之所以会报错，是因为 <code>x</code> 用到默认值 <code>y</code> 时，<code>y</code> 还没有声明。</p><h2 id="对象的解构赋值"><a aria-hidden="true" href="#对象的解构赋值"><span class="icon icon-link"></span></a>对象的解构赋值</h2><p>解构不仅可以用于数组，还可以用于对象。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { foo, bar } = { foo: &#x27;aaa&#x27;, bar: &#x27;bbb&#x27; };
foo; // &#x27;aaa&#x27;
bar; // &#x27;bbb&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">,</span><span class="token plain"> bar </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;bbb&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;aaa&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bar</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;bbb&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值是由它的位置决定的；而对象的属性没有次序，<strong>变量必须与属性</strong>同名才能取到正确的值。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { bar, foo } = { foo: &#x27;aaa&#x27;, bar: &#x27;bbb&#x27; };
foo; // &#x27;aaa&#x27;
bar; // &#x27;bbb&#x27;

let { baz } = { foo: &#x27;aaa&#x27;, bar: &#x27;bbb&#x27; };
baz; // undefined
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> bar</span><span class="token punctuation">,</span><span class="token plain"> foo </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;bbb&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;aaa&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bar</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;bbb&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> baz </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;bbb&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">baz</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面代码的第一个例子中，等号左边的两个变量的次序与等号右边两个同名属性的次序不一致，但是对取值完全没有影响。第二个例子的变量没有对应的同名属性，导致取不到值，最后等于 <code>undefined</code>。</p><p>如果变量名与属性名不一致，必须写成下面这样。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var { foo: baz } = { foo: &#x27;aaa&#x27;, bar: &#x27;bbb&#x27; };
baz; // &#x27;aaa&#x27;

let obj = { first: &#x27;hello&#x27;, last: &#x27;world&#x27; };
let { first: f, last: l } = obj;
f; // &#x27;hello&#x27;
l; // &#x27;world&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> baz </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;bbb&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">baz</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;aaa&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> first</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;hello&#x27;</span><span class="token punctuation">,</span><span class="token plain"> last</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;world&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> first</span><span class="token punctuation">:</span><span class="token plain"> f</span><span class="token punctuation">,</span><span class="token plain"> last</span><span class="token punctuation">:</span><span class="token plain"> l </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> obj</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">f</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;hello&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">l</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;world&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>实际上说明，对象的解构赋值时下面形式的简写。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { foo: foo, bar: bar } = { foo: &#x27;aaa&#x27;, bar: &#x27;bbb&#x27; };
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> foo</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> bar </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;bbb&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>也就是说，对象的解构赋值的内部机制是先找到<strong>同名属性</strong>，然后再赋值给<strong>对应的变量</strong>。真正被赋值的是后者，而不是前者。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { foo: baz } = { foo: &#x27;aaa&#x27;, bar: &#x27;bbb&#x27; };
baz; // &#x27;aaa&#x27;
foo; // error: foo is not defined
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> baz </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;bbb&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">baz</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;aaa&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// error: foo is not defined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，<code>foo</code> 是匹配的模式，<code>baz</code> 才是变量。真正被赋值的是变量 <code>baz</code>，而不是模式 <code>foo</code>。</p><p>与数组一样，解构也可以用于嵌套解构的对象。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let obj = {
  p: [&#x27;Hello&#x27;, { y: &#x27;World&#x27; }],
};

let {
  p: [x, { y }],
} = obj;
x; // &#x27;Hello&#x27;
y; // &#x27;World&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  p</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;Hello&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> y</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;World&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  p</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> y </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> obj</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;Hello&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">y</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;World&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>注意，这时 <code>p</code> 是模式，不是变量，因此不会被赋值。如果 <code>p</code> 也要作为变量赋值，可以写成下面这样。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let obj = {
  p: [&#x27;Hello&#x27;, { y: &#x27;World&#x27; }],
};

let {
  p,
  p: [x, { y }],
} = obj;
x; // &#x27;Hello&#x27;
y; // &#x27;World&#x27;
p; // [&#x27;Hello&#x27;, { y: &#x27;World&#x27;}]
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  p</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;Hello&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> y</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;World&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  p</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  p</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> y </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> obj</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;Hello&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">y</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;World&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">p</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [&#x27;Hello&#x27;, { y: &#x27;World&#x27;}]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>下面是另一个例子</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var node = {
  loc: {
    start: {
      line: 1,
      column: 5,
    },
  },
};

var {
  loc,
  loc: { start },
  loc: {
    start: { line },
  },
} = node;
line; // 1

loc; // Object { start: Object }
start; // Object { line: 1, column: 5}
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  loc</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    start</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      line</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      column</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  loc</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  loc</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> start </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  loc</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    start</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> line </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> node</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">line</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">loc</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Object { start: Object }</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">start</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Object { line: 1, column: 5}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码有三次解构赋值，分别是对 <code>loc</code> 、<code>start</code>、<code>line</code> 三个属性的解构赋值。需要注意的是，最后一个对 <code>line</code> 属性的解构赋值之中，只有 <code>line</code> 是变量，<code>loc</code> 和 <code>start</code> 都是模式，不是变量。</p><p>下面是嵌套赋值的例子。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let obj = {};
let arr = [];
({ foo: obj.prop, bar: arr[0] } = { foo: 123, bar: true });

obj; // { prop: 123 }
arr; // [true]
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> obj</span><span class="token punctuation">.</span><span class="token property-access">prop</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> arr</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">123</span><span class="token punctuation">,</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">obj</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// { prop: 123 }</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">arr</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [true]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>对象的解构也可以指定默认值。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var { x = 3 } = {};
x; // 3

var { x, y = 5 } = { x: 1 };
x; // 1
y; // 5

var { x: y = 3 } = {};
y; // 3

var { x: y = 3 } = { x: 5 };
y; // 5

var { message: msg = &#x27;Something went wrong&#x27; } = {};
msg; // &#x27;Something went wrong&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">,</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">y</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 5</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">y</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">y</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 5</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> message</span><span class="token punctuation">:</span><span class="token plain"> msg </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Something went wrong&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">msg</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;Something went wrong&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>默认值生效的条件是，对象的属性值严格等于 <code>undefined</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var { x = 3 } = { x: undefined };
x; // 3

var { x = 3 } = { x: null };
x; // null
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// null</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，如果 x 属性等于 <code>null</code>，就不严格等于 <code>undefined</code>，导致默认值不会生效。</p><p>如果解构失败，变量的值等于 <code>undefined</code>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { foo } = { bar: &#x27;baz&#x27; };
foo; // undefined
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;baz&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">foo</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>如果解构模式是嵌套的对象，而且子对象所在的父属性不存在，那么将会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 报错
let {
  foo: { bar },
} = { baz: &#x27;baz&#x27; };
" data-status="copy"></button><div class="token-line"><span class="token comment">// 报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> bar </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> baz</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;baz&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，等号左边对象的 <code>foo</code> 属性对应一个子对象。该子对象的 <code>bar</code> 属性再解构时会报错。原因很简单，因为<code>foo</code> 此时等于 <code>undefined</code>，再取子属性就会报错，请看下面的代码。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let _tmp = { baz: &#x27;baz&#x27; };
_tmp.foo.bar; // 报错
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> _tmp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> baz</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;baz&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">_tmp</span><span class="token punctuation">.</span><span class="token property-access">foo</span><span class="token punctuation">.</span><span class="token property-access">bar</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>如果要將一个已经声明的变量用于解构赋值，必须非常小心。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 错误的写法
let x;
{x} = {x： 1}；
// SyntaxError: syntax error
" data-status="copy"></button><div class="token-line"><span class="token comment">// 错误的写法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> x</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain">x</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain">x： </span><span class="token number">1</span><span class="token punctuation">}</span><span class="token plain">；</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// SyntaxError: syntax error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面代码的写法会报错，因为 JavaScript 引擎会将 <code>{<!-- -->x<!-- -->}</code> 理解成一个代码块，从而发生语错误，只有不将大括号写在行首，避免 JavaScript 将其解释为代码块，才能解决这个问题。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 正确的写法
let x;
({ x } = { X: 1 });
" data-status="copy"></button><div class="token-line"><span class="token comment">// 正确的写法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> x</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> x </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token constant">X</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码将整个解构赋值语句放在一个圆括号里面，这样就可以正确执行。关于圆括号与解构赋值的关系。</p><p>解构赋值允许等号左边的模式之中不放置任何变量名。因此，可以写出非常古怪的父之表达式。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="({} = [true, false]);
({} = &#x27;abc&#x27;);
({} = []);
" data-status="copy"></button><div class="token-line"><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;abc&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的表达式虽然毫无意义，但是语法是合法的，可以执行。</p><p>对象的解构赋值可以很方便地将现有现象的方法赋值到某个变量。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { log, sin, cos } = Math;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> log</span><span class="token punctuation">,</span><span class="token plain"> sin</span><span class="token punctuation">,</span><span class="token plain"> cos </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码将 Math 对象的对数、正弦、余弦三个方法赋值到对应的变量上，使用起来就会方便很多。</p><p>由于数组本质是特殊的对象，因此可以对数组进行对象属性的解构。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let arr = [1, 2, 3];
let { 0: first, [arr.length - 1]: last } = arr;
first; // 1
last; // 3
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="token plain"> first</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">arr</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> last </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> arr</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">first</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">last</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码对数组进行对象解构。数组 arr 的 0 键对应的值是 1，<code>[arr.length - 1]</code> 就是 2 键，对应的值 3。方括号这种写法属于“属性名表达式”。</p><h2 id="字符串的解构赋值"><a aria-hidden="true" href="#字符串的解构赋值"><span class="icon icon-link"></span></a>字符串的解构赋值</h2><p>字符串也可以解构赋值，这是因为此时字符串被转换成了一个类似数组的对象。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const [a, b, c, d, e] = &#x27;hello&#x27;;
a; // &#x27;h&#x27;
b; // &#x27;e&#x27;
c; // &#x27;l&#x27;
d; // &#x27;l&#x27;
e; // &#x27;o&#x27;
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">a</span><span class="token punctuation">,</span><span class="token plain"> b</span><span class="token punctuation">,</span><span class="token plain"> c</span><span class="token punctuation">,</span><span class="token plain"> d</span><span class="token punctuation">,</span><span class="token plain"> e</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;hello&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">a</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;h&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">b</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;e&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">c</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;l&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">d</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;l&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">e</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;o&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>类似数组的对象都有一个 <code>length</code> 属性，因此还可以对这个属性进行解构赋值</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { length: len } = &#x27;hello&#x27;;
len; // 5
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> length</span><span class="token punctuation">:</span><span class="token plain"> len </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;hello&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">len</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 5</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="数值和布尔值的解构赋值"><a aria-hidden="true" href="#数值和布尔值的解构赋值"><span class="icon icon-link"></span></a>数值和布尔值的解构赋值</h2><p>解构赋值时，如果等号右边时数值和布尔值，则会先转为对象。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { toString: s } = 123;
s === Number.prototype.toString; // true

let { toString: s } = true;
s === Boolean.prototype.toString; // true
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> toString</span><span class="token punctuation">:</span><span class="token plain"> s </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">123</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s </span><span class="token operator">===</span><span class="token plain"> </span><span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">toString</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> toString</span><span class="token punctuation">:</span><span class="token plain"> s </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s </span><span class="token operator">===</span><span class="token plain"> </span><span class="token class-name">Boolean</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">toString</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，数值和布尔值的包装对象都有 <code>toString</code> 属性，因此变量 <code>s</code> 都能取到值。</p><p>解构赋值的规则是，只要等号右边的值不是对象或数组，就先将其转为对象。由于 <code>undefined</code> 和 <code>null</code> 无法转为对象，所以对它们进行解构赋值时都会报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let { prop: x } = undefined; // TypeError
let { prop: y } = null; // TypeError
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> prop</span><span class="token punctuation">:</span><span class="token plain"> x </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// TypeError</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> prop</span><span class="token punctuation">:</span><span class="token plain"> y </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// TypeError</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="函数参数的解构赋值"><a aria-hidden="true" href="#函数参数的解构赋值"><span class="icon icon-link"></span></a>函数参数的解构赋值</h2><p>函数的参数也可以使用解构赋值。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function add([x, y]) {
  return x + y;
}

add([1, 2]); // 3
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter punctuation">[</span><span class="token parameter">x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> x </span><span class="token operator">+</span><span class="token plain"> y</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，函数 <code>add</code> 的参数表面上是一个数组，但在传入参数的那一刻，数组参数就被解构成变量 <code>x</code> 和 <code>y</code>。对于函数内部的代码来说，它们能感受到的参数就是<code>x</code> 和 <code>y</code>。</p><p>下面是另一个例子。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="[[1, 2], [3, 4]].map(([a, b]) =&gt; a + b);
// [3, 7]
" data-status="copy"></button><div class="token-line"><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter punctuation">[</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token parameter punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> a </span><span class="token operator">+</span><span class="token plain"> b</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [3, 7]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>函数参数的解构也可以使用默认值。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function move({ x = 0, y = 0 } = {}) {
  return [x, y];
}

move({ x: 3, y: 8 }); // [3, 8]
move({ x: 3 }); // [3, 0]
move({}); // [0, 0]
move(); // [0, 0]
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter punctuation">{</span><span class="token parameter"> x </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter number">0</span><span class="token parameter punctuation">,</span><span class="token parameter"> y </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter number">0</span><span class="token parameter"> </span><span class="token parameter punctuation">}</span><span class="token parameter"> </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter punctuation">{</span><span class="token parameter punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">8</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [3, 8]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [3, 0]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [0, 0]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [0, 0]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码中，函数 <code>move</code> 的参数是一个对象，通过对这个对象进行解构，得到变量 x 和 y 的值。如果解构失败，<code>x</code> 和 <code>y</code> 等于默认值。</p><p>注意，下面写法会得到不一样的结果。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function move({ x, y } = { x: 0, y: 0 }) {
  return [x, y];
}

move({ x: 3, y: 8 }); // [3, 8]
move({ x: 3 }); // [3, undefined]
move({}); // [undefined, undefined]
move(); // [0, 0]
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter punctuation">{</span><span class="token parameter"> x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y </span><span class="token parameter punctuation">}</span><span class="token parameter"> </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter punctuation">{</span><span class="token parameter"> x</span><span class="token parameter punctuation">:</span><span class="token parameter"> </span><span class="token parameter number">0</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">:</span><span class="token parameter"> </span><span class="token parameter number">0</span><span class="token parameter"> </span><span class="token parameter punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">8</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [3, 8]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [3, undefined]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [undefined, undefined]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [0, 0]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码是为函数 <code>move</code> 的参数指定默认值，而不是为变量 <code>x</code> 和 <code>y</code> 指定默认值，所以会得到与前一种写法不同的结果。</p><p><code>undefined</code> 就会触发函数参数的默认值。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="[1, undefined, 3].map((x = &#x27;yes&#x27;) =&gt; x);
// [1, &#x27;yes&#x27;, 3]
" data-status="copy"></button><div class="token-line"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;yes&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> x</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// [1, &#x27;yes&#x27;, 3]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="圆括号问题"><a aria-hidden="true" href="#圆括号问题"><span class="icon icon-link"></span></a>圆括号问题</h2><p>解构赋值虽然很方便，但是解析起来并不容易。对于编译器来说，一个式子到底是模式还是表达式，没有办法从一开始就知道，必须解析到（或解析不到）等号才能知道。</p><p>由此带来的问题是，如果模式中出现圆括号该怎么处理？ES6 的规则是，只要有可能导致解构的歧义，就不得使用圆括号。</p><p>但是，这条规则实际上不那么容易辨别，处理起来相当麻烦。因此建议，只要有可能，就不要在模式中放置圆括号。</p><h3 id="不能使用圆括号的情况"><a aria-hidden="true" href="#不能使用圆括号的情况"><span class="icon icon-link"></span></a>不能使用圆括号的情况</h3><h4 id="变量声明语句"><a aria-hidden="true" href="#变量声明语句"><span class="icon icon-link"></span></a>变量声明语句</h4><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 全部报错
let [(a)] = [1];

let {x: (c)} = {};
let ({x: c}) = {};
let {(x: c)} = {};
let {(x): c} = {};

let { o: ({ p: p }) } = { o: { p: 2 } }
" data-status="copy"></button><div class="token-line"><span class="token comment">// 全部报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain">x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">c</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain">x</span><span class="token punctuation">:</span><span class="token plain"> c</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token plain">x</span><span class="token punctuation">:</span><span class="token plain"> c</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token plain">x</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> c</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> o</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> p</span><span class="token punctuation">:</span><span class="token plain"> p </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> o</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> p</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面 6 个语句都会报错，因为它们都是<strong>变量声明语句</strong>，模式不能使用圆括号。</p><h4 id="函数参数"><a aria-hidden="true" href="#函数参数"><span class="icon icon-link"></span></a>函数参数</h4><p>函数参数也属于变量声明，因此不能使用圆括号。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 报错
function f([(z)]) { return z; }
// 报错
function f([z, (x)]) { return x; }
" data-status="copy"></button><div class="token-line"><span class="token comment">// 报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter punctuation">[</span><span class="token parameter punctuation">(</span><span class="token parameter">z</span><span class="token parameter punctuation">)</span><span class="token parameter punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword">return</span><span class="token plain"> z</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter punctuation">[</span><span class="token parameter">z</span><span class="token parameter punctuation">,</span><span class="token parameter"> </span><span class="token parameter punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">)</span><span class="token parameter punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword">return</span><span class="token plain"> x</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h4 id="赋值语句的模式"><a aria-hidden="true" href="#赋值语句的模式"><span class="icon icon-link"></span></a>赋值语句的模式</h4><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 全部报错
({ p: a }) = { p: 42 };
([ a ]) = [5];
" data-status="copy"></button><div class="token-line"><span class="token comment">// 全部报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> p</span><span class="token punctuation">:</span><span class="token plain"> a </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> p</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">42</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token plain"> a </span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码将一部分模式放在圆括号之中，导致报错。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 报错
[{ p: a }, { x: c }] = [{}, {}];
" data-status="copy"></button><div class="token-line"><span class="token comment">// 报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token plain"> p</span><span class="token punctuation">:</span><span class="token plain"> a </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> c </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码将一部分模式放在圆括号之中，导致报错。</p><h3 id="可以使用圆括号的情况"><a aria-hidden="true" href="#可以使用圆括号的情况"><span class="icon icon-link"></span></a>可以使用圆括号的情况</h3><p>可以使用圆括号的情况只有一种：赋值语句的非模式部分可以使用圆括号。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="[b] = [3]; // 正确
({ p: d } = {}); // 正确
[parseInt.prop] = [3]; // 正确
" data-status="copy"></button><div class="token-line"><span class="token punctuation">[</span><span class="token plain">b</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 正确</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> p</span><span class="token punctuation">:</span><span class="token plain"> d </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 正确</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token plain">parseInt</span><span class="token punctuation">.</span><span class="token property-access">prop</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 正确</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="用途"><a aria-hidden="true" href="#用途"><span class="icon icon-link"></span></a>用途</h2><h3 id="交换变量的值"><a aria-hidden="true" href="#交换变量的值"><span class="icon icon-link"></span></a>交换变量的值</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let x = 1;
let y = 2;

[x, y] = [x, y];
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码交换变量 x 和 y 的值，这样的写法不仅简洁，而且易读，语义非常清晰。</p><h3 id="从函数返回多个值"><a aria-hidden="true" href="#从函数返回多个值"><span class="icon icon-link"></span></a>从函数返回多个值</h3><p>函数只能返回一个值，如果要返回多个值，只能将它们放在数组或对象里返回。有了解构赋值，取出这些值就非常方便了。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 返回一个数组
function example() {
  return [1, 2, 3];
}
let [a, b, c] = example();

// 返回一个对象
function example() {
  return {
    foo: 1,
    bar: 2,
  };
}
let { foo, bar } = example();
" data-status="copy"></button><div class="token-line"><span class="token comment">// 返回一个数组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">a</span><span class="token punctuation">,</span><span class="token plain"> b</span><span class="token punctuation">,</span><span class="token plain"> c</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 返回一个对象</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    foo</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    bar</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">,</span><span class="token plain"> bar </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="函数参数的定义"><a aria-hidden="true" href="#函数参数的定义"><span class="icon icon-link"></span></a>函数参数的定义</h3><p>解构赋值可以方便地将一组参数与变量名对应起来。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 参数是一组有次序的值
function f({x, y, z}) { ... }
f([1, 2, 3]);

// 参数是一组无次序的值
function f({x, y, z}) {...}
f({z: 3, y: 2, x: 1});
" data-status="copy"></button><div class="token-line"><span class="token comment">// 参数是一组有次序的值</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter punctuation">{</span><span class="token parameter">x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">,</span><span class="token parameter"> z</span><span class="token parameter punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 参数是一组无次序的值</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter punctuation">{</span><span class="token parameter">x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">,</span><span class="token parameter"> z</span><span class="token parameter punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain">z</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="提取-json-数据"><a aria-hidden="true" href="#提取-json-数据"><span class="icon icon-link"></span></a>提取 JSON 数据</h3><p>解构赋值对提取 JSON 对象中的数据尤其有用。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let jsonData = {
  id: 42,
  status: &#x27;ok&#x27;,
  data: [867, 3509],
};

let { id, status, data: number } = jsonData;

console.log(id, status, number);
// 42, &quot;ok&quot;, [867, 5309]
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> jsonData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  id</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">42</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  status</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;ok&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  data</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">867</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3509</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> id</span><span class="token punctuation">,</span><span class="token plain"> status</span><span class="token punctuation">,</span><span class="token plain"> data</span><span class="token punctuation">:</span><span class="token plain"> number </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> jsonData</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">id</span><span class="token punctuation">,</span><span class="token plain"> status</span><span class="token punctuation">,</span><span class="token plain"> number</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 42, &quot;ok&quot;, [867, 5309]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的代码可以快速提取 JSON 数据的值。</p><h3 id="函数参数的默认值"><a aria-hidden="true" href="#函数参数的默认值"><span class="icon icon-link"></span></a>函数参数的默认值</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="jQuery.ajax = function(
  url,
  {
    async = true,
    beforeSend = function() {},
    cache = true,
    complete = function() {},
    crossDomain = false,
    global = ture,
    // ... more config
  }
) {
  // ... do stuff
};
" data-status="copy"></button><div class="token-line"><span class="token plain">jQuery</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">ajax</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  url</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    async </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function-variable function">beforeSend</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cache </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function-variable function">complete</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    crossDomain </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    global </span><span class="token operator">=</span><span class="token plain"> ture</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// ... more config</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// ... do stuff</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>指定参数的默认值，这样就避免了在函数体内部再写 <code>var foo = config.foo || &#x27;default foo&#x27;;</code> 这样的语句。</p><h3 id="遍历-map-结构"><a aria-hidden="true" href="#遍历-map-结构"><span class="icon icon-link"></span></a>遍历 Map 结构</h3><p>任何部署了 Iterator 接口的对象都可以用 <code>for...of</code> 循环遍历。<code>Map</code> 结构原生支持 Iterator 接口，配合变量的解构赋值获取键名和键值就非常方便。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="var map = new Map();
map.set(&#x27;first&#x27;, &#x27;hello&#x27;);
map.set(&#x27;second&#x27;, &#x27;world!&#x27;);

for (let [key, value] of map) {
  console.log(ket + &#x27; is &#x27; + value);
}
// first is hello
// second is world
" data-status="copy"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> map </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">&#x27;first&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;hello&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">&#x27;second&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;world!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">,</span><span class="token plain"> value</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token keyword">of</span><span class="token plain"> map</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">ket </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27; is &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// first is hello</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// second is world</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>如果只想获取键名，或者只想获取键值，可以写成下面这样。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 获取键名
for (let [key] of map) {
  // ...
}

// 获取键值
for (let [, value] of map) {
  // ...
}
" data-status="copy"></button><div class="token-line"><span class="token comment">// 获取键名</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token keyword">of</span><span class="token plain"> map</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// ...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 获取键值</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token plain"> value</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token keyword">of</span><span class="token plain"> map</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// ...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="加入模块的指定方法"><a aria-hidden="true" href="#加入模块的指定方法"><span class="icon icon-link"></span></a>加入模块的指定方法</h3><p>加载模块时，往往需要指定输入的方法。解构赋值使得输入语句非常清晰。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const { SourceMapConsumer, SourceNode } = require(&#x27;source-map&#x27;);
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token maybe-class-name">SourceMapConsumer</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token maybe-class-name">SourceNode</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;source-map&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/javascript-guidebook/edit/master/docs/basic-concept/expressions/operators/detructing-assignment.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/1/2020, 6:43:54 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/javascript-guidebook/umi.js"></script>
    <script src="/javascript-guidebook/docs__basic-concept__expressions__operators__detructing-assignment.md.js"></script>
  </body>
</html>
